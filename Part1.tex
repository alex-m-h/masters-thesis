\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{xcolor}
\usepackage{csquotes}
\usepackage{enumerate}
\usepackage{faktor}
\usepackage{mathrsfs}
\usepackage{mathtools}
\usepackage{showlabels}

\usepackage{biblatex}
\addbibresource{bibliography.bib}
% \bibliography{bibliography}
% \bibliographystyle{ieeetr}

\numberwithin{equation}{subsection}

\newtheorem{lemma}{Lemma}[section]
\numberwithin{lemma}{subsection}
\newtheorem{corollary}[lemma]{Corollary}
\newtheorem{proposition}[lemma]{Proposition}
\newtheorem{theorem}[lemma]{Theorem}

\theoremstyle{definition}
\newtheorem{assumption}[lemma]{Assumption}
\newtheorem{definition}[lemma]{Definition}
\newtheorem{remark}[lemma]{Remark}
\newtheorem{problem}[lemma]{Problem}

\DeclareMathOperator*{\esssup}{ess\,sup}
\DeclareMathOperator{\curl}{curl}
\DeclareMathOperator{\diver}{div}
\DeclareMathOperator{\grad}{grad}
\DeclareMathOperator{\Ima}{im}
\DeclareMathOperator{\interior}{int}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\vol}{vol}

\newcommand{\aop}{\mathscr{A}}
\newcommand{\alternating}[2]{ {\text{Alt}^{#1}\,#2} }
\newcommand{\integers}{\mathbb{Z}}
\newcommand{\smoothcompforms}[2]{C_0^\infty \Lambda^{#1}(#2)}
\newcommand{\lpcoho}{H^k_{p,dR}}
\newcommand{\naturalnum}{\mathbb{N}}
\newcommand{\norm}[2]{\lVert #1 \rVert_{#2}}
\newcommand{\omegabar}{\overline{\Omega}}
\newcommand{\real}{\mathbb{R}}
\newcommand{\rop}{\mathscr{R}} % short for R operator


\begin{document}

\section{Introduction}
Our goal is to study the homogeneous magnetostatic problem on the exterior 
domain of a triangulated torus. That means 
that for the unbounded domain  $\Omega \subseteq \real^3$ we have
$\real^3 \setminus \Omega$ is a triangulated torus. We also need a 
piecewise straight (i.e. triangulated) closed curve around the torus.
%%% TBD: Picture
{\color{red} (TBD: Define the "triangulated torus" more rigorous)}

Let $B$ be a magnetic field on the domain $\Omega$.
We the have the following boundary value problem:

\begin{align}
    \curl \, B &= 0, \\ 
    \diver \, B  &= 0 \text{ in } \Omega \\
    B \cdot n &= 0 \text{ on } \partial \Omega \text{ and }\\
    \int_\gamma B \cdot dl &= C_0
\end{align}
where $n$ is the outward normal vector field on $\partial \Omega$ and 
$C_0 \in \real$. We want to prove existence and uniqueness of 
solutions. In order to do so we will need to introduce Sobolev spaces of 
differential forms and basics from
simplicial topology {\color{red} among other things...}

\section{Differential forms}


\subsection{Alternating maps}

For the introduction of alternating maps we follow
the short section in Arnold's book
\cite[Sec. 6.1.]{arnold}.
Let $V$ be a real vector space with $\text{dim}\,V = n$.
Then $k$-linear maps are of the form
\begin{align*}
    \omega: \underbrace{V \times V \times ... \times V}_{k \text{ times}}
    \rightarrow \real
\end{align*}
that are linear in every component. We call a $k$-linear form 
\textit{alternating} if the sign switches when two arguments are exchanged i.e.
\begin{align*}
    \omega(v_1,...,v_i,...,v_j,...,v_k)
    = - \omega(v_1,...,v_j,...,v_i,...,v_k), \text{ for } 1\leq i < j \leq k,
    \quad v_1,...,v_k \in V.
\end{align*}
This also means for any permutation 
$\pi: \{1,2,...,k\} \rightarrow \{1,2,...,k\}$
\begin{align*}
    \omega(v_{\pi(1)},v_{\pi(2)},...,v_{\pi(k)})
    = \sgn(\pi)\, \omega(v_1, v_2,..., v_k)
\end{align*}
Denote the space of alternating maps by $\text{Alt}^k\,V$.

For $\omega \in 
\alternating{k}{V}$, $\mu \in 
\alternating{l}{V}$ we define the wedge product $\omega \wedge \mu \in 
\alternating{k+l}{V}$ 
\begin{align*}
    (\omega \wedge \mu) (v_1,...,v_k,v_{k+1},...,v_{k+l}) =
    \sum\limits_\pi
    \text{sgn}(\pi) \omega(v_{\pi(1)},...,v_{\pi(k)}) 
    \nu(v_{\pi(k+1)},...,v_{\pi(k+l)})
\end{align*}
where we sum over all permutations 
$\pi: \{1,...,k+l\} \rightarrow \{1,...,k+l\}$ 
s.t. $\pi(1) < ... < \pi(k)$ and $\pi(k+1) < ... < \pi(k+l)$.
This definition is not very intuitive.
{\color{red} TBD: Examples in 3D}.

For $1$-forms i.e. linear functionals $\omega_1,...,\omega_k$ 
, $k \leq n$ we have the formula (\cite[p.260]{topology_and_geometry})
\begin{align}
    \omega_1 \wedge ... \wedge \omega_k (v_1,...,v_k)
    = \det (\omega_s(v_t))_{1\leq s,t \leq n}. 
    \label{eq:wedge_product_of_one_forms}
\end{align}

Let $\{ u_i\}_{i=1}^n$ be any basis of $V$ and $\{ u^i\}_{i=1}^n$ the 
correspoding dual basis i.e. 
$u^i \in V'$, $u^i(u_j) = \delta_{ij}$ for $i,j = 1,2,..., n$. Then 
\begin{align*}
    \{u^{i_1} \wedge u^{i_2} \wedge ... \wedge u^{i_k} | \, 
    1 \leq i_1 < ... < i_k \leq n \}
\end{align*}
is a basis of $\alternating{k}{V}$. In particular, 
$\dim\, \alternating{k}{V} = \binom{n}{k}$.

Given a inner product $\langle\cdot, \cdot \rangle_V$ on $V$ we obtain an inner 
product on $\alternating{k}{V}$ by defining
\begin{align*}
    \langle u^{i_1} \wedge u^{i_2} \wedge... \wedge u^{i_k}, 
    u^{j_1} \wedge... \wedge u^{j_k} \rangle_{\alternating{k}{V}} 
    \vcentcolon= \det \left[ ( \langle u_{i_k}, u_{i_l} \rangle_V )_
    {1\leq k,l \leq n} \right] 
\end{align*}
which is then extended to all of $\alternating{k}{V}$ by linearity. 
We denote with $\lvert \cdot \rvert _\alternating{k}{V}$ the induced norm.
For an orthonormal basis 
$b_1$, ..., $b_n$ the corresponding basis 
$b^{i_1} \wedge b^{i_2} \wedge ... \wedge b^{i_k}$, 
$1\leq i_1 < ... < i_k \leq n$ is an orthonormal basis of $\alternating{k}{V}$.

We want to examine $\alternating{n}{V}$ a bit closer. Take 
$\omega \in \alternating{n}{V}$ arbitrary. First of all, we can 
recognize that if we have an ordered basis $(u_1,...,u_n)$ and vectors
$(w_1,...,w_n)$ with transition matrix $A$ i.e. $w_i = \sum_j A_{j,i} u_j$ 
then
\begin{align*}
    \omega(w_1,...,w_n) &= \sum\limits_{k_1,...,k_n = 1}^n 
        \omega(u_{k_1},u_{k_2},..., u_{k_n}) \prod\limits_{j=1}^n A_{k_j,j}
    \\ &= \omega(u_1,...,u_n) \sum\limits_{\pi \text{ Permutation}}
        \sgn(\pi) \prod\limits_{j=1}^n A_{\pi(j),j}
    \\ &= \det(A) \omega(u_1,...,u_n).
\end{align*}
That also implies that the value on a ordered basis determines 
the alternating $n$-linear map completely.

$\alternating{n}{V}$ is one-dimensional and so we can choose a basis by fixing 
a specific non-zero element. We want to choose one that will be used later on.

We say that two bases of $V$ 
have the same orientation if the change of basis has positive determinant. 
That divides the bases into two classes with different orientation.
We choose one of these classes and call these bases positively
oriented. In $\real^n$, the convention is to define the class as 
positively oriented which includes the standard orthonormal basis.

Let $\{ v_i \}_{i=1}^n$ be any positively oriented
basis. Let $M$ be the Gramian matrix i.e. $M_{ij} = \langle v_i, v_j \rangle$ 
which is always a symmetric positive definite matrix.
Then we define the \textit{volume form}
\begin{align*}
    \vol \vcentcolon= \sqrt{\det M} \, v^1 \wedge v^2 \wedge ... \wedge v^n.
\end{align*}
The claim is now that for any positively oriented 
orthonormal basis $\{b_i\}_{i=1}^n$ we have 
\begin{align*}
    \vol (b_1,\,b_2,...,\,b_n) = 1.
\end{align*}
Let us denote the $\tilde{v}_i = (\langle v_i, b_k \rangle )_{k=1}^n$
i.e. the coefficents of $v_i$ in the orthonormal basis and 
$\tilde{V} = (\tilde{v}_1 \mid \tilde{v}_2 \mid ... \mid \tilde{v}_n)$
which is just the change of basis matrix. Then using basic linear algebra we get
$ M = \tilde{V}^\top \tilde{V}$ and because both bases are positively oriented 
$\sqrt{\det M} = \det \tilde{V}$. 
\begin{align*}
    v^i(b_j) = v^i \big( \sum\limits_{k=1}^n (\tilde{V}^{-1})_{kj} v_k \big)
    = (\tilde{V}^{-1})_{ij}.
\end{align*}
So in total by using (\ref{eq:wedge_product_of_one_forms})
\begin{align*}
    \vol (b_1,\,b_2,...,\,b_n) =  \det \tilde{V} \det (v^i(b_j))_{ij}
    = \det \tilde{V} \det \tilde{V}^{-1} = 1.
\end{align*}
This property also defines the volume form uniquely so it is independent of the 
chosen basis.
It also shows that $\vol$ is non-zero and thus 
\begin{align*}
    \alternating{n}{V} = \text{span} \{ \vol \}.
\end{align*}

Of course, if we choose $\{ v_i \}_{i}$ to be an orthonormal basis to begin 
with the Gramian matrix is just the identity and 
$\vol = v^1 \wedge ... \wedge v^n$. Especially in the case of $\real^n$ if 
we denote the standard dual basis by $\{ dx^i \}_{i=1}^n$ then 
\begin{align*}
    \vol = dx^1 \wedge ... \wedge dx^n.
\end{align*}

Using the volume on $V$
form we can now define the \textit{Hodge star operator} 
$\star: \alternating{k}{V} \rightarrow \alternating{n-k}{V}$ via the property 
\begin{align*}
    \omega \wedge \mu = \langle \star\omega, \mu \rangle_{\alternating{n-k}{V}} 
    \text{vol}
    \quad \forall \omega \in \alternating{k}{V} , \, 
    \mu \in \alternating{n-k}{V}.
\end{align*}
The Hodge star is an isometry, we have $\star\star = (-1)^{k(n-k)}\text{Id}$ and 
\begin{align*}
    \omega \wedge \star\mu = \langle \omega, \mu \rangle_{\alternating{k}{V}} 
    \text{vol} \quad \forall \omega, \mu \in \alternating{k}{V}.
\end{align*}
In particular in $\real^3$, we have 
$\star\star = \text{Id}$ i.e. $\star$ is self-inverse.


$\alternating{0}{V}$ is just $\real$ by definition. So the Hodge star 
now gives us a natural isomorphism from $\alternating{n}{V} \rightarrow \real$,
$\star (\alpha \vol) = \alpha$.
We call the real number that is associated with an element of 
$\alternating{n}{V}$ \textit{scalar proxy}. Similarly we have that 
$\alternating{1}{V} = V'$, the usual dual space of $V$. Because $V$ is 
finite-dimensional we know that $V \cong V'$ using the Riesz representation.
Then with the help of the Hodge star we obtain a natural isomorphism 
from $\alternating{n-1}{V} \rightarrow V$. We call the vector corresponding
to a $1$- or $(n-1)$-alternating map \textit{vector proxy}. 

Note that for $n=2$ the situation 
is slightly ambiguous, see \cite[p.67]{arnold}. But this case will not be
relevant in this thesis.


Let us take a closer look at the case of $V= \real^3$ with the standard basis
vectors $e_1$, $e_2$ and $e_3$. Denote the resulting elements 
of the dual basis with $dx^i$. Then for some $v\in V$ we get the 
corresponding $1$-alternating map $v_1 \, dx^1 + v_2 \, dx^2 + v_3 \, dx^3 \in 
\text{Alt}^1$ and the alternating bilinear map
$v_1\, dx^2 \wedge dx^3 - v_2 \,dx^1 \wedge dx^3 + v_3 \,dx^1 \wedge dx^2 \in 
\text{Alt}^1$. For the scalar proxies, take $c \in \real$. Then 
$c \in \text{Alt}^0$ of course and because 
we have $\text{vol} = dx^1\wedge dx^2\wedge dx^3$ we get the corresponding 
$c \, dx^1\wedge dx^2\wedge dx^3 \in \text{Alt}^3$.


We can now use this relation to investigate the meaning of the wedge product
for vector proxies. Let us denote $\Phi^k$ as the isomorphism to the
$k$-alternating map with this scalar or vector as proxy. 
Let $v, w \in  \real^3$. Then 
\begin{align*}
    &\Phi^1 v \wedge \Phi^1 w = \Phi^2 (v\times w) \text{ and} \\
    &\Phi^1 v \wedge \Phi^2 w = \Phi^3 (v \cdot w).
\end{align*}
Note that for a $0$-alternating map (i.e. a scalar) 
the wedge product is nothing but the usual multiplication.
So in 3 dimensions, we can always relate the operations of alternating maps 
forms to the operations of the corresponding proxies. 


\subsection{Differential forms}

Before we define differential forms, let us start by revising some basics
from differential geometry. We follow the approach from 
\cite[Sec. II.5]{topology_and_geometry}. 
It should be noted that there are different definitions of tangent space, but
these lead to isomorphic notions 
(see e.g. \cite[Sec.\,1.B]{riemannian_geometry}).
Let $M$ be an $n$-dimensional smooth manifold with or without boundary.
For a point $p \in M$ and a neighorhood $U$ we call a function 
$f: U \rightarrow \real$ differentiable at $p$ if for a local chart 
$\phi: U \rightarrow \real^k$ we have that $f \circ \phi^{-1}$ is differentiable
at $\phi(p)$.

This defintion is independent of the chart. Let $(V,\psi)$ with $p \in V$ be 
another chart. 
Then $f\circ \psi^{-1} = f \circ \phi^{-1} \circ \phi \circ \psi^{-1}$ and 
because $\phi \circ \psi^{-1}$ is a diffeomorphism it is differentiable as well.

These type of definitions via local charts on a manifold are frequent in
differential geometry. This is a proper definition if it is independent of the 
chosen chart. Because we do not want to bother with the technicalities of 
differential geometry too much we will very often leave out these types of
proofs.  

Let $I \subseteq \real$ be an interval containing $0$ and 
$\gamma: I \rightarrow M$ be a differentiable curve with $\gamma(0) = p \in M$.
For a differentiable $f: U \rightarrow \real$ 
we define the the directional derivative 
$D_\gamma(f) \vcentcolon= \frac{d}{dt} f(\gamma(t)) |_{t=0}$.
We call the functional $D_\gamma: C^1(U) \rightarrow \real$ 
tangent vector. 

We define 
\begin{align}
    \frac{\partial f}{\partial x_i} (p) 
    = \frac{\partial (f \circ \phi^{-1})}{\partial x_i}(\phi(p)).
    \label{eq:derivative_on_manifold}
\end{align}
Let us emphasize that this value is obviously not independent of the chosen 
chart.

We can now 
express a tangent vector $D_\gamma$ by 
\begin{align}
    D_\gamma(f) &=  \frac{d}{dt} f(\gamma(t)) \big|_{t=0}
    =  \frac{d}{dt} (f \circ \phi^{-1} \circ \phi)  (\gamma(t)) \big|_{t=0}
    \\ &= \sum\limits_{i=1}^k \frac{\partial (f \circ \phi^{-1})}{\partial x_i} 
        (\phi(p))
        \, (\phi_i\circ \gamma)'(0)
    = (\sum\limits_{i=1}^k v_i  \frac{\partial}{\partial x_i}\Big|_p )(f).
\end{align}
Thus we can express 
\begin{align*}
    D_\gamma = \sum\limits_{i=1}^k 
    (\phi_i \circ \gamma)' (0) \, \frac{\partial}{\partial x_i}\bigg|_p.
\end{align*}
So we have that 
\begin{align*}
    T_p M = \text{span}\, 
        \bigg\{ \frac{\partial}{\partial x_i}\bigg|_p \bigg\}_{i=1}^n.
\end{align*}
We will show that this indeed a basis. 
Assume we have $\sum_{i=1}^n \lambda_i \, \partial/\partial x_i|_p = 0$
Then because $\phi_j \circ \phi^{-1} (x) = x_j$ for $x \in \phi(U)$ and 
$1 \leq j \leq n$. Then we have 
\begin{align*}
    0 = \left( \sum\limits_{i=1}^n \lambda_i \frac{\partial}{\partial x_i}|_p
        \right) (\phi_j)
    = \sum\limits_{i=1}^n \lambda_i \frac{\partial x_j}{\partial x_i}(\phi(p))
    = \lambda_j
\end{align*}
so $\frac{\partial}{\partial x_i}|_p $ are
linearly independent and thus a basis of $T_p M$. 

\begin{definition}[Differential forms]
    A differential $k$-form $\omega$ is a maps any point $p \in M$ to a 
    alternating $k$-linear mapping $\omega_p \in \alternating{k}{T_p M}$.
    We denote the space of differential $k$-forms on $M$ as $\Lambda^k M$.
\end{definition}

Let $T_p^* M$ be the dual space of $T_p M$ which is usually called 
\textit{cotangent space}.
As before let us choose a local chart $\phi: U \rightarrow \real^n$ with 
$p \in U$ and define $\frac{\partial}{\partial x_i}|_p$ as before. 
Because we know that this is a basis of $T_p M$ we denote the corresponding
dual basis as $dx^i$, $i = 1,...,n$. From the consideration about
alternating maps from section \ref{} we can now write any 
$\omega \in \Lambda^k M$ with 
\begin{align*}
    \omega_p = \sum\limits_{1\leq i_1 < ... < i_k \leq n} 
        a_{i_1,...,i_k}(p) dx^{i_1} \wedge dx^{i_2} \wedge ... \wedge dx^{i_k}
\end{align*}
with $a_{i_1,...,i_k}(p) \in \real$. The regularity of differential forms 
is then defined via the regularity of these coefficents i.e. we call 
a differential form smooth if all the $a_{i_1,...,i_k}$ are smooth 
and we call a differential form differentiable if all the $a_{i_1,...,i_k}$
are differentiable and so on. We denote the space $C^\infty \Lambda^k M$ the 
space of smooth differential $k$-forms and analogous for other regularity.

$\smoothcompforms{k}{M}$ are the smooth compactly supported differential forms
which will become very crucial later when we discuss Sobolev spaces 
of differential forms (see Sec. \ref{}). Note that the support is not 
defined via the coefficent functions as above, but directly on the manifold 
i.e. $\supp \omega = \overline{\{ p \in M \mid \omega_p \neq 0  \}} 
\subseteq \interior M$
where the closure and the interior are w.r.t. the topology on $M$.

In order to define the Hodge star and an inner product on differential forms
we need that 
$T_p M$ is an inner product space.

A Riemannian metric gives us at every point $p \in M$ 
a symmetric, positive definite bilinear form 
$g_p: T_p M \times T_p M \rightarrow \real$. Additionally, a Riemannian metric 
is assumed to be smooth in the sense that for smooth vector fields 
$X$ and $Y$ we have $p \mapsto g_p(X,Y)$ is a smooth function. The degree 
of smoothness depends on the smoothness of the manifold. 
{\color{red} More details... }
Manifolds on which a Riemannian metric is defined are called 
\textit{Riemannian manifolds}. The Riemannian metric provides us with the 
inner product on every tangent space $T_p M$. 

Now we will move on to differential forms on a smooth, oriented, Riemannian 
manifold $M$ of dimension $n$ 
with or without boundary. We denote the Riemannian metric by $g$.
%TBD: Lipschitz
Let $p \in M$ and $T_p M$ be the tangent space at the point $p$. 
Due to our assumptions on $M$, this is an inner product space of 
dimension $n$ and we can apply 
all of the constructions from the previous chapter
{\color{red} Check this!}. We have a volume form vol on $M$ so the 
previous constructions using the Hodge star operator are well-defined.  
\cite[2.7]{riemannian_geometry}. 

Let $\{(U_i,\phi_i)\}_{i=1}^\infty$ be an oriented atlas of $M$.
For $p \in U_i$ we can define using local coordinates
\begin{align*}
    g_{kl}^{(i)}(p) \vcentcolon= g_p(\frac{\partial}{\partial x^{(i)}_k}\bigg|_p, 
        \frac{\partial}{\partial x^{(i)}_l}\bigg|_p) 
\end{align*}
where we use the superscript $^{(i)}$ to mean the local coordinates for 
chart $\phi_i$.
Then we define the matrix $G^{(i)} \vcentcolon= 
(g_{kl}^{(i)})_{k,l} \in \real^{n \times n}$ which is just the resulting Gramian 
matrix. 
Then we obtain the volume form 
\begin{align*}
    \text{vol}_p = \det G^{(i)} 
    dx_{(i)}^1 \wedge dx_{(i)}^2 \wedge dx_{(i)}^n
\end{align*}
where $dx_{(i)}^k$ are the dual basis corresponding to 
$\partial/\partial x^{(i)}_k$ the local coordinates 
of chart $\phi_i$. 

We know that this works if we choose any positively oriented basis. 
Because our manifold is orientable and we chose a oriented atlas 
$(U_i,\phi_i)$ we get that if we choose a different chart $(U_j,\phi_j)$ 
then the 
corresponding basis of the tangent space
$\{ \frac{\partial}{\partial x^(j)_k} \}_k$ is also positively oriented because
the change of basis matrix $D(\phi_j \circ \phi_i^{-1})(\phi(p))$ has positive
determinant.

We define the Hodge star operator to differential forms 
$\star: \Lambda^k(\Omega) \rightarrow \Lambda^{n-k}(\Omega)$ simply by applying it 
pointwise. In order for 
the Hodge star to be well-defined the assumption of an orientation on our 
manifold is crucial. We do the same for the exterior product to get
$\wedge: \Lambda^k \times \Lambda^l \rightarrow \Lambda^{k+l}$. 


Let $\omega \in \Lambda^k (M)$ be given 
in local coordinates with some chart $(U,\phi)$ s.t. $p\in U$ as above,
\begin{align*}
    \omega_p = \sum\limits_{1\leq i_1 < ... < i_k \leq n} 
        a_{i_1,...,i_k}(p) dx^{i_1} \wedge dx^{i_2} \wedge ... \wedge dx^{i_k}
\end{align*}
Then we define the exterior derivative $d: \Lambda^{k}(M) \rightarrow 
\Lambda^{k+1}(M)$. By
\begin{align*}
    (d\omega)_p = \sum\limits_{1\leq i_1 < ... < i_k \leq n} \sum\limits_{i=1}^n
    \frac{\partial a_{i_1,...,i_k}}{\partial x_i}(p) 
    dx^i \wedge dx^{i_1} \wedge dx^{i_2} \wedge ... \wedge dx^{i_k}
\end{align*}
We remind of the that the derivative of $a_{i_1,...,i_k}$ is meant w.r.t. 
the chart as defined at (\ref{eq:derivative_on_manifold}).
It can be shown that the $d\omega$ is independent of the chosen chart. 

If the manifold is oriented and we have thus a Hodge star operator.
Then we define the \textit{codifferential operator}
$\delta \vcentcolon= (-1)^{n(k-1)+1} \star d \star$ which is then 
an operator $\Lambda^{k}(M) \rightarrow 
\Lambda^{k-1}(M)$.

The exterior derivative and the codifferential both require the differential 
form to be differentiable. Later we will extend this in weak sense so 
classical differentiabilty is no longer required (see \ref{}).

Let us have a closer look at this in the simplest situation of $M$ being a 
domain $U \subseteq \real^3$. Let $\rho \in C^1(U)$ be a scalar
and $F \in C^1(U;\real^3)$ be a vector field. Then we can view 
$\rho$ as a $0$-form $\rho \in C^1\Lambda^0 U$. 
In this case, we can simply take the identity as a chart 
and $g_x(\partial / \partial x_i, \partial / \partial x_j) = \delta_{ij}$.
Then we obtain 
\begin{align*}
    (d\rho)_x = \sum\limits_{i=1}^3 \frac{\partial \rho}{\partial x_i} dx^i. 
\end{align*}
Because $\partial / \partial x_i$ are orthonormal using the Riesz isomorphism
we can identfy $d\rho$ with the vector field
\begin{align*}
    \sum\limits_{i=1}^3 \frac{\partial \rho}{\partial x_i} 
    \frac{\partial }{\partial x_i} 
    \leftrightarrow \grad \rho.
\end{align*}
So the exterior derivative of zero forms corresponds to the gradient.
In an analgous way using vector proxies one can show that for 
$1$-forms it corresponds to the $\curl$ and for $2$-forms to the divergence.
This also shows the usefulness of the exterior derivative because it 
provides a way to unify these differential operators
and generalize them 
to smooth manifolds.


\subsection{Sobolev spaces of differential forms}

In order to rigorously define Sobolev spaces we have to define $L^p$-spaces 
of differential forms first. But before we can do that we should have a look
how integration of a function can be defined on a smooth orientable 
Riemannian manifold $M$. 

We want to define integration in the framework of usual measure and integration
theory which means defining it as a Lebesgue integral w.r.t. a measure on $M$
which we have to define first along with a $\sigma$-algebra on $M$. 

It is well known that
the borel $\sigma$-algebra $\mathcal{B}$ on $\real^n$ is generated
by all open sets. This idea can be applied to any topological space $X$ by 
defining the borel $\sigma$-algebra $\mathcal{B}(X)$ as the $\sigma$-algebra 
generated by all open sets. So we can simply use the topology on $M$ to define 
our $\sigma$-algebra $\mathcal{B}(M)$. Because we know that all our 
charts $\phi_i: U_i \rightarrow \real^n$ are homeomorphisms it is very 
straightforward to show that a set $E \in \mathcal{B}(M)$ i.i.f.
$\phi_i(E \cap U_i)$ is Borel-measurable. 

Now, we need to define a measure on the manifold. This measure will 
also involve the charts and it requires the manifold to be Riemannian 
and orientable. Let $\{ \chi_i \}_{i=1}^\infty$ be partition of unity 
subordinate to the $U_i$. {\color{red} I need stronger 
requirements for the manifold. We need a countable basis. Or does any 
Riemannian orientable manifold have that?}  Then we define the 
\textit{Riemannian measure} for any $E \in \mathcal{B}(M)$
\begin{align*}
    V(E) \vcentcolon= \sum\limits_{i=1}^\infty \int_{\phi_i(U_i)}
        \chi_i(\phi_i^{-1}(x)) \sqrt{\det G^{(i)}(\phi_i^{-1}(x))} dx 
        \in [0,\infty]
\end{align*}
It can be shown that it is independent of the chosen oriented atlas 
using the transformation behaviour of $G^{(i)}$. But the orientation is 
crucial for it to be well-defined. 

Now that we have the measure space $(M, \, \mathcal{B}(M), \, V)$
we can define integration in the usual Lebesgue way.
It is easily shown that a function $f: M \rightarrow \real$ is measurable 
i.i.f. $f \circ \phi_i^{-1}$ is measurable for every chart $\phi_i$. 
It is then simply an application of the definition of Lebesgue integration to
show that for any measurable $f \geq 0$ we can express the integration as
\begin{align*}
    \int_M f \, dV = \sum\limits_{i=1}^\infty \int_{\phi_i(U_i)} 
        \chi_i(\phi_i^{-1}(x)) f(\phi_i^{-1}(x)) 
        \sqrt{\det G^{(i)}(\phi_i^{-1}(x))} dx.
\end{align*}
By introducing the integral as a Lebesgue integral w.r.t. the Riemannian 
measure we inherit the theoretical framework of Lebesgue integration. 
For example, we know that the the spaces $L^p(M,V)$ for $1\leq p < \infty$
, i.e. the $p$-integrable 
real-valued functions w.r.t. the Riemannian measure, are Banach spaces.

\subsubsection{Integration of differential forms}

Once again, we should first ask ourselfs what a measurable differential form 
should be. We know that we can express our differential form locally 
for $p \in U_i$ using the local coordinates as 
\begin{align*}
    \omega_p = \sum\limits_{1\leq i_1 < ... < i_k \leq n} 
        a_{i_1,...,i_k}(p) dx^{i_1} \wedge dx^{i_2} \wedge ... \wedge dx^{i_k}.
\end{align*}
In the spirit of the above steps we call a $\omega \in \Lambda^k (M)$
measurable if for every chart $\phi_i$ the coefficent functions 
are measurable. This is once again independent of the chosen atlas. 
This can be proven by identifying $\omega$ as a section of the vector bundle 
of $k$-linear alternating maps over $M$. We did not define vector bundles
however and will skip the proof.
For now assume our manifold to be smooth and orientable, but not necessarily
Riemannian.

Next, we will define integration of an $n$-form over an $n$ dimensional 
manifold. At first, we do so for an open set $U \subseteq \real^n$.
This is the simplest example of an $n$-dimensional manifold where 
we only have one chart which is the identify and the local coordinates are 
just our standard coordinates. Let $\omega$ be a measurable 
$n$-form on $U$ so we can 
write 
\begin{align*}
    \omega_x = f(x) dx_1 \wedge dx_2 \wedge ... \wedge dx_n
\end{align*}
for $x \in U$ with $f:U \rightarrow \real$ being measurable. 
We can now simply define 
\begin{align*}
    \int_U \omega = \int_U f(x) dx.
\end{align*}

With this definition at hand we can now extend this definition to 
any smooth oriented $n$-dimensional manifold $M$. As it is often done in 
differential geometry we will work locally first and then extend this 
construction globally by using a partition of unity.

Let $(U,\phi)$ be a chart on $M$ and assume $\supp \omega \subseteq U$. 
Then $(\phi^{-1})^* \omega$ {\color{red} Define the pullback}
is a $n$-form on $\phi(U) \subseteq \real^n$ and 
we can apply our prior definition. So now we just define 
\begin{align*}
    \int_M \omega \vcentcolon= \int_{\phi(U)} (\phi^{-1})^* \omega.
\end{align*}
Once again, it can be shown that this definition does not depend on the chart if 
we choose the atlas corresponding to the orientation of the manifold. 

Now let us move on to the global definition. Let $\{(U_i,\phi_i)\}_{i=1}^\infty$
be an oriented atlas and let $\{ \chi_i \}_{i=1}^\infty$ be a partition 
of unity subordinate to it. 
Then $\supp \chi_i \omega \subseteq U_i$ 
and we define 
\begin{align*}
    \int_M \omega \vcentcolon= \sum_{i=1}^\infty \int_M \chi_i \omega.
\end{align*} 
This definition is also independent of the chosen chart and partition of 
unity. We will omit the proof. 

We will now have a look how the integration of functions and of 
differential forms are related to each other. 
We know that for $p \in U_i$ we can write the volume form as
\begin{align*}
    \vol_p = \sqrt{ \det G^{(i)}(p)} 
        dx_{(i)}^1 \wedge dx_{(i)}^2 \wedge ... \wedge dx_{(i)}^n.
\end{align*}
Because $(\phi_i^{-1})^* dx_{(i)}^k = dx^k$ i.e. the standard dual basis
in $\real^n$ we have
\begin{align*}
    \big( (\phi_i^{-1})^* \vol)_x =  
        \sqrt{ \det G^{(i)}(\phi_i^{-1}(x))} 
        dx^1 \wedge dx^2 \wedge ... \wedge dx^n.
\end{align*}
That means for a $n$-form $f \vol$ we can write the integral as
\begin{align*}
    \int_M f \vol = \sum_{i=1}^\infty \int_{\phi_i(U_i)} 
    \chi_i(\phi_i^{-1}(x)) f(\phi_i^{-1}(x))
        \sqrt{ \det G^{(i)}(\phi_i^{-1}(x))} dx^1 \wedge ... \wedge dx^n
\end{align*} 
and we see 
\begin{align*}
    \int_M f dV = \int_M f \vol
\end{align*}
with the two different notions of integration. So we see that the
the two definitions are essentially equivalent.
The big advantage of considering these two
approaches is that we know the integration of 
differential forms is within the framework of Lebesgue integration. 
It is then also 
clear how integrability for $n$-forms should be defined. We call an 
$n$-form $f \vol$ integrable if $f$ is integrable w.r.t. the Riemannian measure.

\subsubsection{Stokes' theorem and integration by parts} 

One of the most important results about the integration of differential forms
is Stokes' theorem which we will state in this section. From it, we will 
obtain a integration by parts formula.

But before we do so we have to check how to define the restriction of a
differential form to a submanifold $N \subseteq M$. 
We have the inclusion $\iota: N \hookrightarrow M$. Then for a 
smooth differential form $\omega \in C^\infty \Lambda^k (M)$ we define 
the restriction just via the pullback of the inclusion operator i.e. 
$\iota^* \omega \in C^\infty \Lambda^k(N)$. 

For a $k$-dimensional submanifold $N$ we then denote the integration of an 
$k$-form $\omega$ as
\begin{align*}
    \int_N \iota^*\omega = \int_N \omega.
\end{align*} 

\begin{theorem}[Stokes]
    Let $M$ be a smooth oriented manifold with boundary 
    $\partial M$. Let $\omega$ be 
    a smooth compactly supported $(n-1)$-form. Then we have 
    \begin{align*}
        \int_M d\omega = \int_{\partial M} \omega.
    \end{align*}
\end{theorem}
This theorem gives us a relation of the boundary and the exterior derivative 
which will be crucial in the topological context of differential forms.
We will investigate this in the section about homology (see Sec. \ref{}). 

We can also derive a form of the integration by parts formula from it. 
Let $\omega \in C_0^1 \Lambda^k (M)$ and $\mu \in C_0^1 \Lambda^{n-k-1}(M)$. 
Then $\omega \wedge \mu \in C_0^1 \Lambda^{n-1} (M)$ and we have from 
the Leibniz formula \ref{} 
\begin{align*}
    d(\omega \wedge \mu) = d\omega \wedge \mu + (-1)^k \omega \wedge d\mu. 
\end{align*}
By integrating both sides over $M$ and applying Stokes' theorem we obtain
\begin{align*}
    \int_{\partial M} \omega \wedge \mu 
    = \int_M d\omega \wedge \mu + (-1)^k \int_M \omega \wedge d\mu.
\end{align*}
Using the codifferential $\delta$ and the Hodge star operator together 
with the alternative expression of the Leibniz rule \ref{}
we can obtain for $\nu \in C^1_0 \Lambda^{k+1} (M)$
\begin{align*}
    \int_M d\omega \wedge \star \nu 
    = \int_M \omega \wedge \star \delta \nu  
        + \int_{\partial M} \omega \wedge \star \nu.
\end{align*}
This integration by parts will be used in the next section to extend the 
exterior derivative in the weak sense in analogy to the usual introduction 
of the weak derivative,

\subsubsection{Sobolev spaces of differential forms}

Then
we define the $L_p$-norm of a $k$-form $\omega$ for $1\leq p < \infty$
as (cf. \cite{goldshtein})
\begin{align*}
\lVert \omega \rVert _{L_p^k(\Omega)}\vcentcolon=
\left(\int_\Omega \lVert \omega_x \rVert _{\text{Alt}^k T_x M}^p 
    \,dV(x) \right)^{1/p}.
\end{align*}
%%% TBD: Is this independent of coordinates i.e. does this notation make sense?
$L_p^k(\Omega)$ are the spaces of $k$-forms 
s.t. the corresponding $L_p$-norm is finite.
For $p=2$ we obtain a Hilbert space (cf. \cite[Sec. 6.2.6]{arnold}) 
with the $L_2$ inner product  
\begin{align}
    \langle \omega, \nu \rangle \vcentcolon= 
    \int_\Omega \langle \omega_x, \nu_x \rangle _{\text{Alt}^k T_x M} \,dx
    = \int_\Omega \omega \wedge \star \nu
    \label{eq:def_inner_product} 
\end{align}
\begin{proposition}
    The Hodge star operator $\star:L^k_2(\Omega) \rightarrow L^{n-k}_2(\Omega)$ is a
    Hilbert space isometry.
\end{proposition}
\begin{proof}
    This follows directly from the definition of the inner product 
    (\refeq{eq:def_inner_product}) and the fact that $\star$ is an isometry 
    when applied to alternating forms $\text{Alt}^k T_x M$.
\end{proof}


Our next goal is to extend the exterior derivative $d$ 
of smooth differential forms in the weak sense (cf. \cite{goldshtein}). 
Let $\mathring{d}: L^k_2(\Omega) \rightarrow L^{k+1}_2(\Omega)$ be the exterior
derivative as an unbounded operator with domain 
$D(\mathring{d}) = \smoothcompforms{k}{\Omega}$ 
which are the smooth compactly supported differential forms $\varphi$ 
of degree $k$
with $\supp \varphi \subseteq \interior M$.

Note that when we talk about smoothness or regularity of differential forms we
always mean the regularity of the coefficents when the form is expressed 
via local charts. 

Analogous, let 
$\mathring{\delta}: L^k_2(\Omega) \rightarrow L^{k-1}_2(\Omega)$ be the 
codifferential operator $\mathring{\delta} \vcentcolon= 
(-1)^{n(k-1)+1}\star\mathring{d}\star$ 
also with domain $\smoothcompforms{k}{\Omega}$. 

Then the exterior derivative $ d\omega \in L^{k+1}_p(\Omega)$ is defined as
the unique $(k+1)$-form in $L^{k+1}_p(\Omega)$ s.t. 
\begin{align*}
\int_\Omega d\omega \wedge \star\phi = \int_\Omega \omega \wedge 
\star\mathring{\delta}\phi
\quad \forall \phi \in C_0^\infty \Lambda^{k}(\Omega).
\end{align*}
Just as in the usual Sobolev setting we define the following spaces:
\begin{align*}
W^k_p(\Omega) &= \left\{ \omega \in L^k_p(\Omega) \mid 
     d\omega \in L_p^{k+1}(\Omega) \right\}, \\ 
W^k_{p,loc}(\Omega) &= \left\{ \omega \ k \text{-form} \mid 
\omega|_A \in W^k_p(A) \text{ for every open } A \subseteq \Omega 
\text{ s.t. } \overline{A} \subseteq \Omega \text{ is compact} %TBD: Check that this is right
\right\}.
\end{align*}
For $\omega \in W^k_p(\Omega)$ for $p<\infty$ we define the norm 
\begin{align*}
\lVert \omega \rVert _{W^k_p(\Omega)} &\vcentcolon= 
\left( \norm{\omega}{L^k_p(\Omega)}^p 
    + \norm{d\omega}{L^k_p(\Omega)}^p \right)^{1/p}.
\end{align*}

\begin{remark} \label{rem:identification_sobolev_spaces}
    Throughout this thesis, we will mostly deal with open subdomains $\Omega 
    \subseteq \real^n$ with Lipschitz boundary. Then $\Omega$
    is a smooth submanifold of $\real^n$ and $\omegabar$ is a 
    Lipschitz manifold with boundary. If we now assume that
    $\Omega = \interior \omegabar$ then $W^k_p(\Omega)$ and $W^k_p(\omegabar)$
    are essentially the same. Take $\omega \in W^k_p(\Omega)$ and extend 
    it arbitrarily to $\overline{\omega} \in W^k_p(\omegabar)$. Then because 
    $\partial \Omega$ is a null set $\overline{\omega} \in L_2^k(\omegabar)$ and 
    because the definition of the exterior derivative uses only smooth 
    funtions with compact support contained in $\interior \omegabar = \Omega$ 
    we get that $d\overline{\omega} = d\omega \in L^k_2(\omegabar)$ (again 
    by choosing arbitrary values on the boundary). From now on we will in the
    assumed setting treat the spaces $W^k_p(\omegabar)$ and $W^k_p(\Omega)$ 
    as the same.
\end{remark}
    
\begin{definition}[$L^p$-cohomology]
    We define the following subspaces of $W^k_p(\Omega)$, $1\leq p \leq\infty$:
    \begin{align*}
        \mathfrak{B}_k &\vcentcolon= dW^{k-1}_p(\Omega) \text{ and} \\
        \mathfrak{Z}_k &\vcentcolon= \{ \omega \in W^k_p(\Omega)| 
        \, d\omega = 0\}.
    \end{align*}
    We call the $k$-forms in $\mathfrak{B}_k$ exact and the forms in 
    $\mathfrak{Z}_k$ closed. Because $d \circ d=0$ we always have  
    $\mathfrak{B}_k \subseteq \mathfrak{Z}_k$.
    Then we define the de Rham- or $L^p$-cohomology space $\lpcoho(\Omega)$ as 
    the quotient space
    \begin{align*}
        \lpcoho (\Omega) \vcentcolon= \faktor{\mathfrak{Z}_k}{\mathfrak{B}_k}.
    \end{align*}
\end{definition}
\vspace{0.5cm}
We want to examine the Hilbert space $L^k_2(\Omega)$ more closely
(see \cite[Sec. 6.2.6]{arnold} for more details).  
%%% TBD: This is only for bounded domains. What changes?
% Picard defines it as completion of smooth functions \cite[p.37]{picard}
We denote $H^k(d;\Omega) \vcentcolon= W^k_2(\Omega)$. If the domain is clear
we will leave it out. Note that the above definition of the exterior derivative
is in the Hilbert space setting equivalent to defining $d$ as the adjoint
of $\mathring{\delta}$. 



In order to extend $\mathring{\delta}$ as well, we will need the following

\begin{definition}[Codifferential operator]
    Analogous to the smooth case, 
    we define the \textit{codifferential operator} for any $k$ as an unbounded
    operator $\delta: L^k_2(\Omega) \rightarrow L^{k-1}_2$ as
    \begin{align*}
        \delta \vcentcolon= (-1)^{n(k-1)+1}\star d\,\star
    \end{align*}
    with domain
    \begin{align*}
        D(\delta) = \{ \omega \in L^k_2(\Omega) | \,
        \star\omega \in H^{n-k}(d) \} 
        =\vcentcolon H^k(\delta; \Omega).
    \end{align*}
\end{definition}

\begin{proposition}
    $\delta = \mathring{d}^*$ i.e. $\delta$ is the adjoint of $\mathring{d}$.
\end{proposition}
\begin{proof}
    Denote with
    $D(\mathring{d}^*) \subseteq L_2^{k-1}(\Omega)$ the domain of the adjoint.
    Now take $\omega \in H^k(\delta)$ and $\phi \in 
    \smoothcompforms{k}{\Omega}$.
    Then 
    \begin{align*}
        &\langle \delta \omega, \phi \rangle = 
        (-1)^{nk+1} \langle \star d\star \omega, \phi \rangle \\  
        &= (-1)^{nk+1} (-1)^{k(n-k)} \langle d\star \omega, \star\phi \rangle =
        (-1)^{nk+1} (-1)^{k(n-k)} 
            \langle \star \omega, \mathring{\delta}\star\phi \rangle \\
        &= (-1)^{nk+1} (-1)^{k(n-k)} (-1)^{n(n-k-1)+1}
            \langle \star \omega, \star\mathring{d}\star\star\phi \rangle \\
        &=(-1)^{n(n-1)+2} (-1)^{k(n-k)} \langle \omega, 
            \mathring{d}\star\star\phi \rangle\\
        &= \langle \omega, \mathring{d}\phi \rangle
    \end{align*}
    where we used repeatedly that $\star$ is an isometry and 
    $\star\star = (-1)^{k(n-k)}\text{Id}$. 
    This shows that $H^{k+1}(\delta) \subseteq 
    D(\mathring{d}^*)$ and that $\mathring{d}^* \omega = \delta \omega$. Now for 
    the other inclusion assume that $\omega \in D(\mathring{d}^*)$ and take 
    $\phi \in \smoothcompforms{n-k}{\Omega}$ arbitrary.
    \begin{align*}
        \langle \star\omega, \mathring{\delta}\phi \rangle = \pm 
        \langle \omega, \mathring{d}\star\phi \rangle = 
        \pm \langle \mathring{d}^* \omega, \star\phi \rangle = 
        \pm \langle \star\mathring{d}^* \omega, \phi \rangle.
    \end{align*} 
    Here we use $\pm$ to mean that we choose the sign correctly, s.t. all the
    operations are correct. Then by choosing the sign appropriately we find that
    $ \pm \star\mathring{d}^* \omega = d\star\omega$ and therefore 
    $\star\omega \in H^{n-k-1}(d)$ so we proved $D(\mathring{d}^*) \subseteq 
    H^{k+1}(\delta)$ and we are done.    
\end{proof}

In order to deal with the boundary of our domain we introduce Homogeneous
boundary conditions for these Sobolev spaces of differential forms.

\begin{definition}[Zero boundary condition] \label{def:zero_boundary_condition}
    We say that $\omega \in H^k(d;\Omega)$ has zero boundary condition if
    \begin{align*}
        \langle d\omega,\chi \rangle _{L^{k+1}_2(\Omega)}
        =  \langle \omega,\delta\chi \rangle _{L^k_2(\Omega)}
        \quad \forall \chi \in H^{k+1}(\delta;\Omega). 
    \end{align*}
    Denote $\mathring{H}^k(d;\Omega) \vcentcolon= \{ \omega \in H^k(d;\Omega)|\,
    \omega \text{ has zero boundary condition} \}$. 
\end{definition}
Of course we should justify why this is a reasonable definition. If $\Omega$ 
is lipschitz and bounded we have the integration by parts formula 
(cf. \cite[Thm.~6.3]{arnold})
\begin{align*}
    \int_\Omega d\omega \wedge \mu 
    = (-1)^k \int_\Omega \omega \wedge d \mu  + \int_{\partial\Omega} 
    \text{tr}\,\mu \wedge \text{tr}\,\omega \quad \text{for } \omega \in 
    H^1\Lambda^k(\Omega),\ \mu \in H^{n-k-1}(d;\Omega)  
\end{align*} 
where $H^1\Lambda^k(\Omega)$ are the differential forms with all coefficients
being in $H^1(\Omega)$ (here we mean just the standard Sobolev space). 
Let now $\omega \in \mathring{H}^k(d)$. Then if we use
the integration by parts formula and 
$\langle d\omega,\mu \rangle_{L^{k+1}(\Omega)} = 
\langle \omega, \delta \mu \rangle_{L^k(\Omega)}$ we get 
after some computation using the Hodge star
\begin{align*}
    \langle \text{tr}\,\omega, 
        \star\,\text{tr}\,\star\mu \rangle_{L^k(\Omega)}
    = 0 \quad \forall \mu \in H^1\Lambda^k(\Omega).
\end{align*}
The trace operator $\text{tr}: H^1\Lambda^k(\Omega) 
\rightarrow H^{1/2}\Lambda^k(\Omega)$ is surjective \cite[Thm.~6.1]{arnold}.
\begin{align*}
    \star\text{tr}\star H^1\Lambda^{k+1}(\Omega) 
    = \star \text{tr} H^1\Lambda^{n-k-1}(\Omega)
    = \star H^{1/2}\Lambda^{n-k-1}(\Omega)
    = H^{1/2}\Lambda^k(\Omega)
\end{align*}
is dense in $L^k_2(\Omega)$. Thus $\text{tr}\,\omega = 0$. So in the case 
of bounded Lipschitz domains this definition is reasonable. The reason why we
chose to define it as in Def.\,\ref{def:zero_boundary_condition} is that 
is easily extendible to unbounded domains and the regularity of the boundary
is not an issue. 


Then we define the spaces 
\begin{align*}
    H^k_0(d;\Omega) &\vcentcolon= \{ \omega \in H^k(d;\Omega) 
    | d\omega = 0 \} \\
    \mathring{H}^k_0(d;\Omega) &\vcentcolon= \{ \omega \in \mathring{H}^k(d;\Omega) 
    | d\omega = 0 \}
\end{align*}
i.e. the spaces of closed forms. We will use the analogous definition for 
$H^k_0(\delta;\Omega)$ and $\mathring{H}^k_0(\delta;\Omega)$ which we call 
coclosed forms. We then define the spaces of harmonic forms
\begin{align*}
    \mathring{H}^k_0(d,\delta;\Omega) \vcentcolon= 
    \{ \omega \in \mathring{H}^k(d;\Omega) 
    | \, d\omega = 0, \delta\omega = 0 \}.
\end{align*}
With this one can prove the Hodge decomposition (\cite[Lemma 1]{arnold})
\begin{align}
    L_2^k(\Omega) = \overline{d\mathring{H}^{k-1}(d)} \stackrel{\perp}{\oplus} 
    \mathring{H}^k_0(d,\delta) \stackrel{\perp}{\oplus} 
    \overline{\delta H^{k+1}(\delta)} \label{hodge_decomposition}
\end{align}
and furthermore for the closed and coclosed forms respectively,
\begin{align}
    \mathring{H}^k_0(d) &= \overline{d\mathring{H}^{k-1}(d)} 
    \stackrel{\perp}{\oplus}
    \mathring{H}^k_0(d,\delta) \label{decomposition_closed_forms} \\
    H^k_0(\delta) &= \overline{\delta H^{k+1}(\delta)} \stackrel{\perp}{\oplus}
    \mathring{H}^k_0(d,\delta). \label{decomposition_coclosed_forms}
\end{align}

\section{Simplicial topology}

Before we can reformulate the boundary value problem in the language of 
differential forms we have to 
introduce some things from simplicial topology. This material is taken from
\cite{topology_and_geometry} where a lot more details and results can be found.

\subsection{Simplicial complex}

\begin{definition}[Affine simplex]
    Let $x_0$, $x_1$, ..., $x_k \in \real^n$ be affine independent. Then 
    \begin{align*}
    [x_0,x_1,...,x_k] \vcentcolon= \text{conv}\{x_0,...,x_k\}
    \end{align*}
    is called an affine $k$-simplex. With $\text{conv}$ we mean the 
    convex combination.
\end{definition}
\noindent We will assume all simplices to be affine.
%%% TBD: Question: In the book this is defined in infinite dimensions. Does this
%%% lead to any problems?

\begin{definition}[Simplicial complex]
    A \textit{simplicial complex} $K$ is a collection of affine simplices s.t.
    \begin{enumerate}
        \item $\sigma \in K \Rightarrow$ any face of $\sigma$ is in $K$,
        \item $\sigma,\, \tau \in K \Rightarrow \sigma \cap \tau$  
                is either empty or a face of both $\sigma$ and $\tau$.
    \end{enumerate}
    We call $|K| \vcentcolon= \bigcup \{ \sigma | \sigma \in K\}$ the polyhedron of 
    $K$ and we denote the set of all $k$-simplices as $K^{(k)}$.
\end{definition}
For any topological space $X$ a homeomorphism 
$\tau: |K| \rightarrow X$ is called \textit{triangulation} of $X$.
Let $\{x_1,\, x_2,...\}$ be the vertices in the simplicial complex $K$.
We fix an ordering of the vertices for every simplex. 
That means for any $k$ every $k$ simplex $\sigma$ has
a designated representation in the form of
\begin{align*}
    \sigma = [x_{i_0},\, x_{i_1}, ...,x_{i_k}].
\end{align*} 

\begin{definition}[Star]
    The \textit{star} of a vertex $x_i$ is the collection of all simplices 
    $\sigma \in K$ s.t. $x_i$ is contained in $\sigma$. 
    
    We call a simplicial complex \textit{star-bounded} for some number $N$ 
    if the star of any vertex contains at most $N$ simplices.
\end{definition}
{\color{red} Does this imply quasi-regularity?}
Star-boundedness will be a crucial assumption later 
(see Assumption \ref{ass:GKS-assumption}). Now we will introduce
algebraic structures on the simplicial complex.

\begin{definition}[$k$-chain]
    Let $K$ be a simplicial complex. By $C_k(K)$ we will denote the 
    free abelian group on the $k$-simplices
    i.e. the abelian group of all formal finite sums
    \begin{align*}
        \sum_\sigma n_\sigma \sigma
    \end{align*}
    with $\sigma$ being $k$-simplices. The elements of $C_k(K)$
    (i.e. sums of the above form) are called \textit{$k$-chains}.
\end{definition}


\begin{definition}[Boundary]
    We have the 
    \textit{boundary operator} $\partial_k: C_k(K) \rightarrow C_{k-1}(K)$.
    We first define it
    for any simplex $[x_{i_0},\, x_{i_1},...,\, x_{i_k}]$ 
    \begin{align*}
        \partial[x_{i_0},\, x_{i_1},...,\, x_{i_k}] \vcentcolon=
        \sum\limits_{j=0}^k (-1)^j [x_{i_0},\, x_{i_1},...,\, 
        \hat{x}_{i_j},...,\, x_{i_k}]
    \end{align*}
    where $[x_{i_0},\, x_{i_1},...,\, \hat{x}_{i_j},...,\, x_{i_k}]$ is the
    simplex without vertex $x_{i_j}$. We then extend the definition
    of the boundary operator linearly to $k$-chains 
    $c = \sum_\sigma c_\sigma \sigma$ by
    \begin{align*}
        \partial c \vcentcolon= \sum\limits_\sigma c_\sigma \partial \sigma.
    \end{align*}
    By convention we define $\partial_0 = 0$. We will leave out the index $k$
    if it is clear from the context or irrelevant.
\end{definition}

A crucial property of the chain operator is the following.

\begin{proposition}
    $\partial \circ \partial = 0$.
\end{proposition}
\begin{proof}
    This can be proven by direct computation, analogous to 
    \cite[Chap.~4, Lemma~1.6]{topology_and_geometry}
\end{proof}

We can now generalize the notions of the chain groups by using factor groups.
Let $L \subseteq K$ be a simplicial complex which we will call simplicial
subcomplex. Then we define the factor group

\begin{align*}
    C_k(K,L) \vcentcolon= \faktor{C_k(K)}{C_k(L)}.
\end{align*}
We denote the elements of $C_k(K,L)$ i.e. the equivalence class 
by $\underline{c}$ for some $c \in C_k(K)$. 
Because $L$ is a simplicial complex we have $\partial_k c \in C_{k-1}(L)$ for
any $c \in C_k(L)$. Thus it induces a homomorphism on the factor groups denoted
by
\begin{align*}
    \underline{\partial}_k: C_k(K,L) \rightarrow C_{k-1}(K,L),\,
    \underline{\partial}_k \underline{c} \vcentcolon= \underline{\partial_k c}.
\end{align*}
Note that $C(K,L)$ generalizes the definition of $C_k(K,L)$ because we 
can choose $L = \emptyset$. Then the abelian group on $\emptyset$ is just 
$\{ 0 \}$ and thus $C_k(K,L) = C_k(K)$.

\begin{remark}
    The last equality is technically not precise of course. 
    However, for any group 
    $G$ with identity $\iota$ the resulting factor group
    $\faktor{G}{\{\iota\}}$ every equivalence class $\underline{g}$ would 
    only include $g$ itself so we can trivially identify $G$ with 
    $\faktor{G}{\{\iota\}}$ and we will do so from now on.
\end{remark}

We want to investigate how we can understand $\underline{c}$.

\begin{proposition}
    Let $c \in C_k(K)$ be arbitrary. Then
    \begin{align*}
        \underline{c} = \underline{0} 
        \leftrightarrow c = \sum\limits_{\tau \in L} n_\tau \tau.
    \end{align*}
    As usual the right hand side is a finite sum. 
    So for two $k$-chains $c = \sum_\sigma n_\sigma \sigma \in C_k(K)$ 
    and $c' =  \sum_\sigma n'_\sigma \sigma$ we have
    \begin{align}
        \underline{c} = \underbar{c}' 
        \leftrightarrow n_\sigma = n'_\sigma 
        \quad \forall \sigma \in K \setminus L. 
        \label{eq:equivalence_class_relative_chain_group}
    \end{align}
\end{proposition}
\begin{proof}
    $c \in \underline{0}$ is just equivalent to saying that 
    $c \in C_k(L)$ by definition of the factor group and thus we can write 
    $c = \sum\limits_{\tau \in L} n_\tau \tau$.
    (\ref{eq:equivalence_class_relative_chain_group}) follows from that 
    because $\underline{c} = \underbar{c}'$ is equivalent to
    $\underline{c - c'} = \underline{0}$.
\end{proof}

In this sense we can identify $C_k(K,L)$ with formal sums of 
simplices in $K^{(k)}\setminus L^{(k)}$. 

\subsection{Simplicial (Co-)Homology}

We call a $k$-chain $\underline{c} \in C_k(K,L)$ a \textit{$k$-cycle} if 
$\underline{\partial} \underline{c} = 0$ and we call $\underline{c}$ 
a \textit{$k$-boundary} if there exists $\underline{d}$ s.t. 
$\underline{c} = \underline{\partial} \underline{d}$. 
Let $Z_k(K,L) = \text{ker}\,\underline{\partial_k}$ 
and $B_k(K,L) = \text{im}\,\underline{\partial_{k-1}}$.
We can now define the simplicial homology groups of our simplicial complex.

\begin{definition}[Simplicial homology]
    The relative homology groups $H_k(K,L)$ are defined as
    \begin{align*}
        H_k(K)\vcentcolon= \faktor{Z_k(K,L)}{B_k(K,L)}.
    \end{align*}
\end{definition}

\begin{remark}
We call them relative homology group because define them on the 
for $C_k(K,L)$.
The standard homology groups $H_k(K)$ (i.e. taking $L = \emptyset$) 
are independent of the chosen triangulation of $|K|$
\cite[p.248]{topology_and_geometry} because they are isomorphic to the 
singular homology groups which only depend on $|K|$ 
\end{remark}

Let $G$ be any abelian group. Then we define the group 
of \textit{$k$-cochains} $C^k(K,L;G)$ by
\begin{align*}
    C^k(K,L;G) \vcentcolon= \text{Hom}(C_k(K,L),\,G)
\end{align*}
i.e. the group of all homomorphisms from $C_k(K,L)$ to $G$. 
We generally use the superindex $^k$ if something is related to 
cochains and the subindex $_k$ if it is related to chains. 
We now introduce an operator between the groups of cochains.

$C^k(K,L;G)$ can be identified with the cochains that vanish on $L$.

\begin{proposition}\label{prop:relative_cochains_vanish}
    Define
    \begin{align*}
        \tilde{C}^k(K,L;G) \vcentcolon= \{ F \in C^k(K;G) 
        \mid F(c) = 0 \quad \forall c \in C_k(L) \}.
    \end{align*}
    Then any $F \in \tilde{C}^k(K,L;G)$ induces and homomorphism
    $\underline{F} \in C^k(K,L;G)$ and $j:\tilde{C}^k(K,L;G) 
    \rightarrow C^k(K,L;G), \, F \mapsto \underline{F}$ is an isomorphism.
\end{proposition}
\begin{proof}
    Because $C_k(L) \subseteq \ker F$ is a subgroup we get the 
    induced homomorphism
    \begin{align*}
        \underline{F}: C_k(K,L) = \faktor{C_k(K)}{C_k(L)} \rightarrow
        \faktor{G}{{0}} = G.
    \end{align*}
    \textbf{$j$ is injective.} Let $\underline{F}(\underline{c})=0$ for every 
    $c \in C_k(K)$. Then $F(c) = \underline{F}(\underline{c}) = 0$ so $F = 0$.
    \textbf{$j$ is surjective.} Let $\varphi \in C^k(K,L;G)$ be arbitrary. 
    Then define $F \in C^k(K)$, $F(c) \vcentcolon= \varphi(\underline{c})$.
    We first have to show that $F \in \tilde{C}^k(K,L)$. For any $d \in C_k(L)$
    we get $\underline{d} = 0 \in C_k(K,L)$ and $F(d) = 0$.
    Then we have for any $\underline{c} \in C_k(K,L)$, 
    $\underline{F}(\underline{c}) = F(c) = \varphi(\underline{c})$ i.e. 
    $\underline{F} = \varphi$ which proves surjectivity.
\end{proof}

\begin{proposition}
    $j$ as defined in Prop.\,\ref{prop:relative_cochains_vanish} is a chain 
    map.
\end{proposition}
\begin{proof}
    Let $F \in \tilde{C}^k(K,L)$ be arbitrary. Then
    \begin{align*}
        \underline{\partial^k F}(\underline{c})
        = \partial^k F (c) = F(\partial_k F) 
        = \underline{F}(\underline{\partial_k c})
        = \underline{F}(\underline{\partial}_k \underline{c})
        = \underline{\partial}^k \underline{F} (\underline{c})
        %TBD: We need here that \tilde(C)^k is also a cochain complex
    \end{align*}
    i.e. $j \circ \partial^k = \underline{\partial}^k\circ j$ and $j$ is a 
    chain map.
\end{proof}

\begin{corollary}
    The induced map $[j]: H^k(K,L;G) \rightarrow \tilde{H}^k(K,L;G)$ is an 
    isomorphism.
\end{corollary}

\begin{definition}
    We define the operator $\delta: C^k(K;G) \rightarrow C^{k+1}(K;G)$ via
    \begin{align*}
        (\delta f) (c) \vcentcolon= f(\partial c).
    \end{align*}
    for a $(k+1)$-chain $c$.
    We call a cochain $f \in C^k(K;G)$ \textit{closed} if $\delta f = 0$ 
    and we call $f$
    \textit{exact} if there is a $g \in C^{k+1}(K;G)$ s.t. $f = \delta g$.
\end{definition}
\noindent We define the cohomology spaces analogous to homology spaces above.
\begin{definition}[Simplicial cohomology]
    Denote the closed $k$-cochains as $Z^k(K;G)$ and the 
    exact ones with $B^k(K;G)$. 
    We then define the \textit{simplicial cohomology groups}
    $H^k(K)$ as
    \begin{align*}
        H^k(K;G) \vcentcolon= \faktor{Z^k(K;G)}{B^k(K;G)}.
    \end{align*}
\end{definition}
Note that in the case of $G = \real$ this becomes a vector space.
We will later show that if we consider certain subspaces of cochains so called
\textit{p-summable} cochains (see Def.\,\ref{def:p_summable_cochains}) 
that the $L_p$-cohomology defined above and the
cohomology spaces of these $p$-summable cochains are isomorphic.


Now of course there is the question how the homology and cohomology groups 
are related to each other. This question is answered by the
\textit{universal coefficent theorem}. But before we can formulate it we have 
to introduce exact sequences.
\begin{definition}[Exact sequence]
    Let $(G_i)_{i\in \integers}$ be a sequence of groups and 
    $(f_i)_{i \in \integers}$ be a sequence of homomorphisms
    $f_i: G_i \rightarrow G_{i+1}$. Then this sequence of homomorphisms is
    called \textit{exact} if $\text{im}\,f_{i-1} = \text{ker}\,f_i$.
\end{definition}

The universal coefficent theorem in the case of simplicial homology states
that the sequence 
\begin{align}
    0 \rightarrow \text{Ext}(H_{k-1}(K),G) \rightarrow 
    H^k(K;G) \xrightarrow{\beta} \text{Hom}(H_k(K),G) 
    \rightarrow 0 \label{eq:univeral_coefficient_theorem}
\end{align}
is exact. 
$\beta$ is defined via $\beta([F])([c]) \vcentcolon= F(c)$.
The definition of Ext can be found in \cite{topology_and_geometry},
but it does not matter for our purpose because from now on we will assume
$G = \real$ and
$\text{Ext}(H_{k-1}(K),\real) = 0$. This follows from the fact that 
$\real$ is a divisible and hence injective abelian group. The definition 
these terms and the connections used can also be found in 
\cite[Sec.\,V.6]{topology_and_geometry}. However, we will not dwelve into the 
algebraic background further. We can conclude from the exactness of the 
above short sequence that $\text{ker}\,\beta = 0$ and 
$\text{im}\,\beta = \text{Hom}(H_k(K),\real)$. So $\beta$ is a isomorphism.

\subsection{De Rham's theorem} \label{sec:de_rhams_theorem}

It turns out that the cochain cohomology is closely related to the cohomology 
of differential forms (\ref{}). Let us recall Stokes' theorem first which said 
that for a $k$-form $\omega \in \smoothcompforms{k}{M}$ 
for a smooth $k$-dimensional oriented manifold $M$ we have 
\begin{align*}
    \int_M d\omega = \int_{\partial M} \omega.
\end{align*}

The following details are taken from Section V.5 and and V.9 from 
\cite{topology_and_geometry}. We will only focus on the main ideas and avoid 
dwelving into the technical details. The interested reader can find more 
arguments in the given reference.

Let now $\sigma$ be a smooth $k$-simplex i.e. $\sigma: \Delta_k \rightarrow 
M$ is smooth. We now define 
\begin{align*}
    \int_\sigma \omega = \int_{\Delta_k} \sigma^* \omega
\end{align*}
and then we define the integral over a $k$-chain 
$c = \sum_\sigma n_\sigma \sigma$
\begin{align*}
    \int_c \omega = \sum \limits_\sigma n_\sigma \int_\sigma \omega.
\end{align*}
This motivates us to introduce the homomorphism $I: C^\infty \Lambda^k (M) 
\rightarrow \text{Hom}(C_k;\real)$ defined by 
\begin{align*}
    I(\omega)(c) = \int_c \omega.
\end{align*}
\begin{remark}
    There are some technical details that we will not go into details here,
    but that should be mentioned. First, $\Delta_k$ is not a manifold. 
    The $(k-2)$ skeleton which are the corners for $k=2$ and the 
    edges for $k=3$. If we remove these points then $\Delta_k$ is a manifold 
    with boundary. But since this is a null-set w.r.t. the full simplex and 
    the boundary as well, this does not matter. 
    Second, Because we are integrating over the $\Delta_k$ their orientation is 
    important and has to be chosen consistently.
\end{remark}

Using Stokes's theorem we observe
\begin{align*}
    I(d\omega)(c) &= \sum\limits_\sigma n_\sigma \int_\sigma d\omega 
    = \sum\limits_\sigma n_\sigma \int_{\Delta_k} \sigma^* d\omega 
    = \sum\limits_\sigma n_\sigma \int_{\Delta_k} d\sigma^* \omega
    = \sum\limits_\sigma n_\sigma \int_{\partial \Delta_k} \sigma^* \omega
    \\ &= \int_{\sum_\sigma n_\sigma \partial \sigma} \omega
    = I(\omega)(\partial c) = \partial \big(I(\omega)\big) (c)
\end{align*}
so we obtain
\begin{align*}
    I(d\omega) = \partial \big(I(\omega)\big).
\end{align*}
This implies that $I$ induces a homomorphism on cohomology
\begin{align*}
    [I]:H^k_{dR}(M) \rightarrow H^k(M;\real).
\end{align*}
\textit{De Rham's theorem} now states that this homomorphism is in fact an
isomorphism. 


\subsection{Existence of uniqueness of cochain}



As an application, we will show the following proposition which will be used
later to show existence and uniqueness of a 
solution of the magnetostatic problem.

\begin{proposition}
    Assume that $H_1(K,L) = \integers [\gamma]$ i.e. the homology class of the 
    closed $1$-chain $\gamma$ is a generator of the first homology group.
    Then we have the following:
    \begin{enumerate}[(i)]
        \item For any $C_0 \in \real$ there exists a closed $1$-chain 
            $F \in Z^1(K,L)$ with $F(\gamma) = C_0$,
        \item any other $G \in Z^1(K,L)$ with $G(\gamma) = C_0$ 
            is in the same cohomology class i.e. $[F] = [G]$.
    \end{enumerate}
\end{proposition}
\begin{proof}
    \textbf{Proof of (i)} %TBD: This could be wrong
    Because $[\gamma]$ is a generator of the homology group we  obtain a 
    homomorphism $\hat{F} \in \text{Hom}(H_1(K,L),\real)$ by fixing
    $\hat{F}([\gamma]) = C_0$. This determines the other values.
    Then we know from (\ref{eq:univeral_coefficient_theorem}) that there exists
    a $[F] \in H^1(K,L)$ with $\beta([F]) = \hat{F}$ because $\beta$ is a 
    isomorphism. So we obtain
    \begin{align*}
        F(\gamma) = \beta([F])([\gamma]) = \hat{F}([\gamma]) = C_0.
    \end{align*}

    \textbf{Proof of (ii)} %TBD: This could be wrong
    Take $[c] \in H_1(K,L)$ arbitrary. Then there exists  $n \in \integers$ s.t.
    $[c] = n [\gamma]$.
    Using $\beta$ from (\ref{eq:univeral_coefficient_theorem})
    We have
    \begin{align*}
        \beta([F])([c]) = \beta([F])(n [\gamma]) 
        = n \beta([F])([\gamma]) = n \, F(\gamma) = n \, G(\gamma) = 
        \beta([G])([c])
    \end{align*}
    and thus $\beta([F]) = \beta([G])$. Because $\beta$ is an isomorphism
    we arrive at $[F] = [G]$.
\end{proof}

The following lemma will be needed later in Sec.\,\ref{} to prove existence 
and uniqueness of a solution of the magnetostatic problem. It is now 
useful to think of $K$ as a triangulation of an exterior domain and $L$ 
be the triangulation of the exterior of some ball $\real^3\setminus B_R$ with 
$R > 0$ large enough. Then we assume for the simplicial subcomplex $L$
that its geometric realization $|L|$ is homeomorphic to $\real^3\setminus B_R$.

First we need to understand how the zero-th homology group looks like. 
When we say path-connected we mean in the sense of simplicial topology i.e. 
we can connect all vertices with a $1$-chain.

\begin{lemma}\label{lem:zeroth_homology_group}
    Let $K$ be a path-connected simplicial complex. Then the homology class 
    of every vertex $[x_i] \in H_0(K)$ is a generator of the homology group.  
\end{lemma}
\begin{proof}
    The proof works exactly as the proof of Theorem IV.2.1 in 
    \cite{topology_and_geometry} where we use the notion of path-connected
    on simplicial complexes.
\end{proof}

\begin{lemma}\label{lem:inclusion_zeroth_homology}
    Let $K$, $L$ be simplicial complexes with $L \subseteq K$ and 
    assume they are path-connected  Then
    the inclusion $\iota: C_0(L) \hookrightarrow C_0(K)$ induces an isomorphism
    on homology.
\end{lemma}
\begin{proof}
    This follows immediately from Lemma \ref{lem:zeroth_homology_group}.
\end{proof}


\begin{lemma}\label{lem:isom_chains_and_relative_chains}
    Let $K$ and $L$ be as in the previous lemma. Assume additionally
    that $|L|$ is homeomorphic to $\real^3 \setminus B_R$.
    Then the natural surjection
    $j: C_1(K) \rightarrow C_1(K,L)$ induces an isomorphism on homology.
\end{lemma}
\begin{proof}
    We have the exact sequence 
    \begin{align*}
        &H_1(L) \xrightarrow{[\iota_1]} H_1(K) \xrightarrow{[j_1]} H_1(K,L) \\
        \xrightarrow{[\partial_1]} &H_0(L) \xrightarrow{[\iota_0]} H_0(K) 
            \xrightarrow{[j_0]} H_0(K,L).
    \end{align*}
    We know that $H_1(L) \cong H_1(|L|) \cong H_1(\mathbb{S}^2) = 0$. 
    Because $[\iota_0]$ is an isomorphism due to 
    Lemma\,\ref{lem:inclusion_zeroth_homology} $\Ima [\partial_1] = 0$. 
    Thus, we get the exact sequence 
    \begin{align*}
        0 \xrightarrow{[\iota_1]} H_1(K) \xrightarrow{[j_1]} H_1(K,L)
        \xrightarrow{[\partial_1]} 0
    \end{align*}
    and so $[j_1]$ is a isomorphism.
\end{proof}

Now using all these lemmas and results we can now prove the following
important lemma that will be needed later in Sec.\,\ref{}

\begin{lemma}\label{lem:existence_vanishing_cochain}
    Let $K$ and $L$ be as in the previous lemma and assume that 
    $H_1(K) = \integers [\gamma]$. Then there exists a cochain 
    $F \in \tilde{C}^1(K,L)$ s.t. $F(\gamma) = C_0$.
\end{lemma}
\begin{proof}
    We know from Lemma\,\ref{lem:isom_chains_and_relative_chains}
    that $[j]:H_1(K) \rightarrow H_1(K,L)$ is a isomorphism. Thus, we have
    $[j]([\gamma]) = [\underline{\gamma}] \in H_1(K,L)$ is a generator. 
    We can now apply Prop.\,\ref{prop:uniqueness_cochain} to get a 
    $\tilde{F} \in C^1(K,L)$ s.t. $\tilde{F}(\underline{\gamma}) = C_0$.
    Now we continue with Prop.\,\ref{prop:relative_cochains_vanish} to 
    get that there exists a unique $F \in \tilde{C}^1(K,L)$ s.t. 
    $jF = \underline{F} = \tilde{F}$ and we arrive at 
    \begin{align*}
        F(\gamma) = \underline{F}(\underline{\gamma}) 
        = \tilde{F}(\underline{\gamma}) = C_0.
    \end{align*}
\end{proof}


\section{Existence and uniqueness of solutions}

In this section, we will apply the developed theory of the preceding chapters
to prove the existence and uniqueness of the magnetostatic problem 
on exterior domains. With exterior domain we mean that our domain $\Omega \subseteq \real^3$
is the complement of a compact set. The main motivation for this problem is 
the special case of $\Omega$ being the complement of a torus. 
This is also the motivation behind the
topological assumption that we will give. It might be useful to keep this
example in mind.

Recall the magnetostatic problem we are studying.

\begin{problem}\label{prob:magnetostatic_problem}
    Find $B \in H_0(\diver;\Omega)$ s.t.
    \begin{align}
        \curl \, B &= 0, \\ 
        \diver \, B  &= 0 \text{ in } \Omega \text{ and }\\
        \int_\gamma B \cdot dl &= C_0.
    \end{align}
\end{problem}

Of course in order for the curve integral constraint to be well-defined 
we need to check the regularity of solutions. Then using the tools we developed
in the previous sections we will proof existence and uniqueness.

\subsection{Regularity of solutions}\label{sec:regularity_of_solutions}

We will rely on standard regularity results about elliptic systems 
of the following form. Take $A_{ij}^{\alpha \beta} \in \real$
for $i$, $j$, $\alpha$, $\beta = 1,2,3$ and 
$A_{ij}^{\alpha \beta} = A_{ji}^{\beta \alpha}$. Then we have systems of the 
form 
\begin{align}
    -\sum\limits_{\alpha, \beta, j} \partial_\alpha 
        (A_{ij}^{\alpha \beta} \partial_\beta B_j)
    = f_i - \sum\limits_\alpha \partial_\alpha F_i^\alpha
    \label{eq:elliptic_system}
\end{align}
with data $f_i, F_i^\alpha \in L^2(\Omega)$. We call this system 
\textit{elliptic} if $A$ satisfies the Legendre condition i.e.
\begin{align}
    \sum_{\alpha,\beta,i,j}A_{ij}^{\alpha \beta} \xi_\alpha^i \xi_\beta^j
    \geq c |\xi|^2, \quad \forall \xi \in \real^{3 \times 3} 
    \label{eq:legendre_condition}
\end{align}
with $c > 0$. $|\xi|$ is here the Frobenius norm, but technically the chosen 
norm is irrelevant due to all norms on $\real^{3 \times 3}$ being equivalent.
We then call $B$ a weak solution
of the problem if 
\begin{align}
    \int_\Omega \sum\limits_{\alpha,\beta,i,j} 
        A_{ij}^{\alpha \beta} \partial_\beta B_j \partial_\alpha \varphi_i dx
    = \int_\Omega \left\{ \sum\limits_i f_i \varphi_i + 
        \sum\limits_{\alpha,i} F_i^\alpha \partial_\alpha \varphi_i \right\} dx
    \label{eq:weak_elliptic_system}
\end{align}
for all $\varphi \in C^1_0(\Omega;\real^3)$. This formulation is taken from 
\cite[Sec. 1.3]{lectures_on_elliptic_pdes}. At first we will slightly modify
the notion of weak solution. 

\begin{proposition}
    Assume that we have an elliptic system with constant coefficients i.e. 
    $A$ is constant. Then
    (\ref{eq:weak_elliptic_system}) is fulfilled for all 
    $\varphi \in C^1_0(\Omega;\real^3)$ if and only if it is fulfilled 
    for $\varphi \in C^\infty_0(\Omega;\real^3)$.
\end{proposition}
\begin{proof}
    This follows by a simple density argument. Assume that 
    (\ref{eq:weak_elliptic_system}) is fulfilled for all test functions in 
    $C^\infty_0(\Omega;\real^3)$. Now take $\varphi \in C^1_0(\Omega;\real^3)$
    arbitrary. Because $\varphi \in H_0^1(\Omega)^3$ and 
    $C^\infty_0(\Omega;\real^3)$ is dense in $H_0^1(\Omega)^3$ we can find 
    a sequence $(\varphi^{(l)})_{l \in \naturalnum} \subseteq 
    C^\infty_0(\Omega;\real^3)$ s.t. $\varphi^{(l)} \rightarrow \varphi$
    in $H^1(\Omega)^3$. Thus the partial derivatives converge in $L^2(\Omega)$
    and we get
    \begin{align*}
        &\int_\Omega \sum\limits_{i,j,\alpha,\beta} 
            A_{ij}^{\alpha, \beta} \partial_\beta B_j \partial_\alpha \varphi_i
            dx
        = \sum\limits_{i,j,\alpha,\beta} A_{ij}^{\alpha, \beta}
            \int_\Omega \partial_\beta B_j \lim\limits_{l\rightarrow \infty} 
            \partial_\alpha \varphi^{(l)} dx
        \\ &\stackrel{\text{$L^2$ limit}}{=} 
            \lim\limits_{l\rightarrow \infty} 
            \int_\Omega \left\{ \sum\limits_i f_i \varphi^{(l)}_i + 
            \sum\limits_{\alpha,i} F_i^\alpha \partial_\alpha \varphi^{(l)}_i 
            \right\} dx
        = \int_\Omega \left\{ \sum\limits_i f_i \varphi_i + 
            \sum\limits_{\alpha,i} F_i^\alpha \partial_\alpha \varphi_i 
            \right\} dx.
    \end{align*}
    Since $\varphi \in C_0^1(\Omega;\real^3)$ was arbitrary the first 
    direction of the equivalence is proved. The other direction is trivial.
\end{proof}
So we see that in the case of constant coefficents we can consider 
just smooth compactly supported functions as test functions.

Next, we will state the crucial result about the regularity of elliptic systems
which will give us the desired regularity. This is Theorem 2.13 and Remark 2.16 
in \cite{lectures_on_elliptic_pdes} in slightly less generality.
\begin{theorem}
    Let $\Omega$ be an open domain in $\real^n$. Let $A$ be constant and 
    satisfy the Legendre condition (\ref{eq:legendre_condition}). Then for every 
    $B \in H^1_{loc}(\Omega)^3$ weak solution in the sense of
    (\ref{eq:weak_elliptic_system}) with $f \in H^k_{loc}(\Omega)^3$ and 
    $F \in H^{k+1}_{loc}(\Omega;\real^{m\times n})$ 
    we have $B \in H^{k+2}_{loc}(\Omega)^3$. 
\end{theorem}

\begin{corollary}\label{cor:smooth_solution}
    If under the assumptions of the previous theorem we consider the 
    homogeneous problem, i.e.
    \begin{align*}
        \int_\Omega \sum\limits_{\alpha,\beta,i,j} 
        A_{ij}^{\alpha \beta} \partial_\beta B_j \partial_\alpha \varphi_i dx =0
    \end{align*}
    for all $\phi \in C^\infty_0(\Omega;\real^3)$, then $B$ is smooth.   
\end{corollary}
It should be noted that this does not guarantee us any regularity on the 
boundary. 

Before we can apply this result, we have to check whether a solution of our 
problem $B$ is actually in $H^1_{loc}(\Omega)^3$. 

\begin{theorem}\label{thm:solution_in_H1loc}
    Assume $B \in H(\diver;\Omega) \cap H(\curl;\Omega)$. Then 
    $B \in H^1_{loc}(\Omega)^3$.
\end{theorem}
Note that we did not assume $B$ to be a solution.
\begin{proof}
    We know that for a function $u \in H_0(\curl;U) \cap H(\diver;U)$ 
    for some smooth domain $U$ we have $u \in H^1(U)^3$ 
    (cf. \cite[Remark 3.48]{monk}). Our $\Omega$ is just assumed to be open 
    so we can not apply this result directly.

    Take $Q \subset\subset \Omega$ open and pre-compact. 
    Then we can find an open 
    cover of $\overline{Q}$ with a finite set of open balls $\{K_i\}_{i=1}^N$
    s.t. $K_i \subseteq \Omega$ and 
    \begin{align*}
        \overline{Q} \subseteq \bigcup\limits_{i=1}^N K_i.
    \end{align*}
    As a open cover of a compact set we can find a smooth partition of unity 
    $\{\chi_i\}_{i=1}^N$ subordinate to $\{K_i\}_{i=1}^N$. 
    $(B \chi_i)|_{K_i} \in H_0(\curl;K_i) \cap H(\diver;K_i)$ and thus 
    $(B \chi_i)|_{K_i} \in H^1(K_i)^3$ by the above mentioned result. 
    Also because $B \chi_i$ has compact support in $K_i$ we can extend it by 
    zero to obtain
    $B \chi_i \in H^1(\real^3)^3$ where we abused the notation by denoting 
    the extension the same. Whence,
    \begin{align*}
        B|_Q = \large( \sum\limits_{i=1}^N \chi_i |_Q \large) B|_Q = 
        \sum\limits_{i=1}^N (\chi_i B)|_Q \in H^1(Q)
    \end{align*}
    i.e. $B \in H^1_{loc}(\Omega)^3$.
\end{proof}

The following lemma is a reformulation of the differential operator 
$\grad \diver - \curl \curl$ which will be needed when we write our 
magnetostatic problem in the above standard elliptic form.

\begin{lemma}\label{lem:graddiv_curlcurl_equals_componentwise_laplacian}
    Let $F \in H^2_{loc}(\Omega)^3$. Then 
    \begin{align*}
        \grad \diver F - \curl \curl F 
        = \begin{pmatrix} \Delta F_1 \\ \Delta F_2 
            \\ \Delta F_3  \end{pmatrix}.
    \end{align*}
\end{lemma}
\begin{proof}
    By a simple calculation and changing the order of differentiation
    \begin{align*}
        \grad \diver F = 
            \begin{pmatrix} \partial_1^2 F_1 + \partial_1 \partial_2 F_2
                + \partial_1 \partial_3 F_3
            \\ \partial_1\partial_2 F_2 + \partial_2^2 F_2 + 
                \partial_2\partial_3 F_3
            \\ \partial_1 \partial_3 F_1 + \partial_2\partial_3 F_2
                + \partial_3^2 F_3
            \end{pmatrix}
    \end{align*}
    and 
    \begin{align*}
        &\curl \curl F = \curl \begin{pmatrix} 
            \partial_2 F_3 - \partial_3 F_2 \\ \partial_3 F_1 - \partial_1 F_3 
            \\ \partial_1 F_2 - \partial_2 F_1  \end{pmatrix}
        = \begin{pmatrix} 
            \partial_2 (\partial_1 F_2 - \partial_2 F_1)
                - \partial_3 (\partial_3 F_1 - \partial_1 F_3)
            \\ \partial_3 (\partial_2 F_3 - \partial_3 F_2)
                - \partial_1 (\partial_1 F_2 - \partial_2 F_1)
            \\ \partial_1 (\partial_3 F_1 - \partial_1 F_3)
                - \partial_2 (\partial_2 F_3 - \partial_3 F_2)  
            \end{pmatrix}
        \\ &= \begin{pmatrix}
            \partial_1 \partial_2 F_2 - \partial^2_2 F_1 - \partial_3^2 F_1
            + \partial_1 \partial_3 F_3 
            \\ \partial_2 \partial_3 F_3 - \partial^2_3 F_2 - \partial_1^2 F_2
            + \partial_1 \partial_2 F_3
            \\ \partial_1 \partial_3 F_3 - \partial^2_3 F_2 - \partial_2^2 F_3
            + \partial_2 \partial_3 F_2  
            \end{pmatrix}
    \end{align*}
    and so by subtracting the two expressions
    \begin{align*}
        \grad \diver F - \curl \curl F  
        = \begin{pmatrix}
            \partial_1^2 F_1 + \partial_2^2 F_1 + \partial_3^2 F_1
            \\ \partial_1^2 F_2 + \partial_2^2 F_2 + \partial_3^2 F_3
            \\ \partial_1^2 F_3 + \partial_2^2 F_3 + \partial_3^2 F_3
        \end{pmatrix}
        = \begin{pmatrix}
            \Delta F_1 \\ \Delta F_2 \\ \Delta F_3
        \end{pmatrix}.
    \end{align*}
\end{proof}
We want to rewrite this system in the expression of the elliptic system 
(\ref{eq:elliptic_system}). We can rewrite the Laplacian
\begin{align*}
    - \Delta F_i = - \sum\limits_{\alpha = 1}^3 
        \partial_\alpha \partial_\alpha F_i
    = - \sum\limits_{\alpha,\beta = 1}^3 
    \partial_\alpha \delta_{\alpha,\beta} \partial_\beta F_i
    = - \sum\limits_{\alpha,\beta,j = 1}^3 
    \partial_\alpha \delta_{\alpha,\beta} \delta_{ij} \partial_\beta F_j
\end{align*}
so we get $A_{ij}^{\alpha\beta} = \delta_{ij} \delta_{\alpha \beta}$.
We have to check that the resulting differential operator is indeed
elliptic, but this trivial because for any 
$(\xi_\alpha^i)_{1\leq i,\alpha \leq 3}$
we get 
\begin{align*}
    \sum\limits_{\alpha,\beta,i,j} A_{ij}^{\alpha\beta} \xi_\alpha^i \xi_\beta^j 
    = \sum\limits_{\alpha,\beta,i,j} \delta_{ij} \delta_{\alpha \beta} 
        \xi_\alpha^i \xi_\beta^j 
    = \sum\limits_{\alpha,i} (\xi_\alpha^i)^2 = |\xi|^2
\end{align*}
so  the Legendre condition (\ref{eq:legendre_condition}) 
is fulfilled and the resulting system is elliptic. The weak formulation 
is 
\begin{align*}
    \int_\Omega \sum\limits_{\alpha,\beta,i,j} \delta_{ij} \delta_{\alpha\beta}
        \partial_\beta B_j \partial_\alpha \varphi_i dx 
    = \sum\limits_{i=1}^3 \int_\Omega \nabla B_i \cdot \nabla \varphi_i dx.
\end{align*}
Here we can assume $\varphi \in C_0^\infty (\Omega)^3$ because all coefficients
are constant.

\begin{theorem}[Smoothness of solutions]
    Let $\Omega \subseteq \real^3$ open and 
    $B \in H(\diver;\Omega) \cup H(\curl;\Omega)$ and 
    \begin{align*}
        \curl B &= 0,
        \\ \diver B &= 0.
    \end{align*}
    Then $B$ is smooth.
\end{theorem}
\begin{proof}
    Take $\varphi \in C_0^\infty(\Omega)^3$. Then 
    \begin{align*}
        0 &= \int_\Omega \diver B \diver \varphi + \curl B \cdot \curl \varphi dx
        = - \int_\Omega B \cdot (\grad \diver \varphi - \curl \curl \varphi) dx
        \\ &\stackrel{Lemma 
            \ref{lem:graddiv_curlcurl_equals_componentwise_laplacian}}{=} 
            - \int_\Omega B \cdot 
            \begin{pmatrix}
                \Delta \varphi_1 \\ \Delta \varphi_2 \\ \Delta \varphi_3
            \end{pmatrix}
        = \sum\limits_{i=1}^3 \int_\Omega \nabla B_i \cdot \nabla \varphi_i dx.
    \end{align*}
    Note that the last integration by parts is well defined because 
    $B \in H^1_{loc}(\Omega)$ according to Thm.\,\ref{thm:solution_in_H1loc}. 
    So $B$ is a weak solution 
    of the elliptic system given by 
    $A_{ij}^{\alpha \beta} = \delta_{ij} \delta_{\alpha\beta}$. Because 
    we look at the homogenous problem our right hand side is obviously smooth 
    and thus $B$ is smooth as well due to Cor.\,\ref{cor:smooth_solution}.
\end{proof}

\begin{remark}
    Obviously, the above arguments can be generalized by using a 
    non-zero right hand side of our problem. Then we will in general 
    not obtain a smooth solution, but for a sufficiently regular right hand 
    side the curve integral would still be well-defined.
    {\color{red} How much regularity? Source?}
\end{remark}


\subsection{Reformulation of the problem} 

We will return now to the magnetostatic problem. In order to use the results
above we will reformulate the problem in the notation of differential forms.
From now on we assume $n=3$ i.e. we are in three dimensional space.
There are two ways to identify a vector field with a differential form 
(cf. \cite[Table 6.1 and p.70]{arnold}) either as a 1-form or a 2-form. 
For a vector field $B$ we define
\begin{align*}
    F^1\, B &\vcentcolon= B_1 \, dx_1 + B_2 \, dx_2 + B_3\, dx_3 \text{ and}\\
    F^2\, B &\vcentcolon= B_2 \, dx_2 \wedge dx_3 - B_2 \, dx_1 \wedge dx_3
        + B_3 \, dx_1 \wedge dx_2
\end{align*} 
as the corresponding 1-form and 2-form. 
Then the exterior derivative is $dF^2\,\omega$ corresponds to the divergence,
the codifferential $\delta F^2\,\omega$ 
corresponds to the curl and the normal component
being zero on the boundary corresponds 
to $\omega \in \mathring{H}^2(d)$.\cite{}. 

If we then use the association of
3-forms with scalars we have the corresponding boundary value problem without
the integral condition for 
2-forms: Find $\omega \in \mathring{H}^2(d)$ s.t.
\begin{align}
    \delta \omega &= 0, \\ 
    d\omega  &= 0 \text{ in } \Omega.
\end{align}
Next, we have to add the integral condition. 
We remind the reader that we are in three dimensions so
$**= \text{Id}$ 
and observe
\begin{align*}
    *F^2 \, B  &= B_1 \, **dx_1 + B_2 \, **dx_2 + B_3\, **dx_3 
        = B_1 \, dx_1 + B_2 \, dx_2 + B_3\, dx_3\\ 
    &= F^1 \, B.
\end{align*}
{\color{red}: Actually, we already use the Hodge star to define the vector 
proxies. So of course the vector proxy of the Hodge star will be the same.}
Then we have 
\begin{align*}
    \int_\gamma * F^2\, B = \int_\gamma F   ^1\, B = \int_\gamma B \cdot \text{d}l.
\end{align*}
In the last step we used the fact that the integration of a 1-form over a
curve is equivalent to the curve integral of the associated vector field
(cf. \cite[Sec. 6.2.3]{arnold}). Hence, we can add the integral condition 
\begin{align}
    \int_\gamma *\omega = C_0 \label{integral_condition}.
\end{align}
However, we have  only $\omega \in \mathring{H}_0^2(d,\delta)$ so 
$*\omega \in H^1(d)$ so this integral might not be well defined. In order 
to deal with this, we will again use the operator $\rop$ from 
Sec.\,\ref{sec:isomorphism_cohomology}. 

We know from Thm.~\ref{thm:operators} that $\rop *\omega \in S^1_2(\omegabar)$.
Using the operator $\varphi$ from \ref{eq:} we obtain 
$\varphi \rop *\omega \in S^1_2(K)$. Now we know from Sec.~\ref{sec:} that 
the integration mapping $I: S^1_2(K) \rightarrow C^1_2(K)$ is well-defined.
Denote $\bar{I} \vcentcolon= I\circ \varphi \circ \rop$ and 
let us replace the integral condition (\ref{eq:integral_condition}) with 
\begin{align*}
    \bar{I}(*\omega)(\gamma) = C_0.
\end{align*}

Of course, we have to justify why this is reasonable. 
So let us take $\eta \in S^1_2(\omegabar)$. That means we can integrate it 
directly using the definition from \ref{}. 
Let us also assume that $\eta$ is closed and 
$\int_\gamma \eta = C_0$. %TBD: Define the integral on S^k_p(\omegabar)
Then we know from Thm.~\ref{thm:operators}
\begin{align*}
    \rop \eta = \eta + d\aop \eta + \aop d\eta 
    \stackrel{\eta \text{ closed}}{=} \eta + d\aop \eta.
\end{align*}
We know further that $\aop \eta \in S^0_2(\omegabar)$. 
Apply $\varphi$ on both sides and use that fact that it commutes 
\ref{} with the 
exterior derivative to get
\begin{align*}
    \varphi \rop \eta = \varphi\eta + d \varphi\aop \eta.
\end{align*}
$[I]$ is an isomorphism of cohomology and thus sends exact S-forms to exact 
cochains. $\gamma$ is closed so $I(d \varphi\aop \eta)(\gamma) = 0$ and 
we conclude 
\begin{align*}
    \bar{I}(\eta)(\gamma) = I(\varphi \rop \eta)(\gamma) = I(\varphi \eta)
    \stackrel{\text{by def.}}{=} I(\eta),
\end{align*}
i.e. the integral remains unchanged if we integrate closed forms over 
closed chains. Because $*\omega$ is closed we thus do not change the integral 
if the curve integral $*\omega$ would already have been well defined before.

To summarize we obtain the following problem.
\begin{problem} \label{prob:magnetostatic_reformulated}
    Find $\omega \in \mathring{H}^2(d;\Omega)$ s.t.
    \begin{align*}
        d \omega &= 0, \\
        \delta \omega &= 0 \text{ in $\Omega$}, \\
        \bar{I}(*\omega)(\gamma)  &= C_0.
    \end{align*}
\end{problem}
\noindent We will examine existence and 
uniqueness of this problem in the next section.


\subsection{Existence and uniqueness}

The curve integral condition is closely linked to the topology of our domain 
which we will have to use in our proof.
This will rely on the tools of homology from Sec.\,\ref{}. 
Because of this connection if we want the curve integral
to give us uniqueness of the solution we need to assume certain topological 
properties. In our case, this will be the condition that our first 
homology group is generated by the curve that we are integrating over i.e.
\begin{align*}
    H_1(\Omega) = \integers [\gamma].
\end{align*}

Then we get the following existence and uniqueness result on the 
level of homology.

\begin{proposition}\label{prop:uniqueness_cochain}
    Assume that $H_1(\Omega) = \integers [\gamma]$ i.e. the homology 
    class of the 
    closed $1$-chain $\gamma$ is a generator of the first homology group.
    Then we have the following:
    \begin{enumerate}[(i)]
        \item For any $C_0 \in \real$ there exists a closed $1$-cochain 
            $F \in Z^1(\Omega)$ with $F(\gamma) = C_0$,
        \item any other $G \in Z^1(\Omega)$ with $G(\gamma) = C_0$ 
            is in the same cohomology class i.e. $[F] = [G]$
    \end{enumerate}
    i.e. the cochain is unique up to cohomology.
\end{proposition}
\begin{proof}
    \textbf{Proof of (i)} %TBD: This could be wrong
    Because $[\gamma]$ is a generator of the homology group we  obtain a 
    homomorphism $\hat{F} \in \text{Hom}(H_1(\Omega),\real)$ by fixing
    $\hat{F}([\gamma]) = C_0$. This determines the other values.
    Then we know from (\ref{eq:univeral_coefficient_theorem}) that there exists
    a $[F] \in H^1(\Omega)$ with $\beta([F]) = \hat{F}$ because $\beta$ is a 
    isomorphism. So we obtain
    \begin{align*}
        F(\gamma) = \beta([F])([\gamma]) = \hat{F}([\gamma]) = C_0.
    \end{align*}

    \textbf{Proof of (ii)} %TBD: This could be wrong
    Take $[c] \in H_1(\Omega)$ arbitrary. 
    Then there exists  $n \in \integers$ s.t.
    $[c] = n [\gamma]$.
    Using $\beta$ from (\ref{eq:univeral_coefficient_theorem})
    We have
    \begin{align*}
        \beta([F])([c]) = \beta([F])(n [\gamma]) 
        = n \beta([F])([\gamma]) = n \, F(\gamma) = n \, G(\gamma) = 
        \beta([G])([c])
    \end{align*}
    and thus $\beta([F]) = \beta([G])$. Because $\beta$ is an isomorphism
    we arrive at $[F] = [G]$.
\end{proof}
This abstract topological result can now be linked to the differential 
forms via the de Rham isomorphism from Sec.\,\ref{sec:de_rhams_theorem}. 
We will formulate it in a way 
that demonstrates the connection of differential forms and cochains.
\begin{corollary}\label{cor:existence_uniqueness_1form}
    Assume $H_1(\Omega) = \integers [\gamma]$ as above. Then
    \begin{enumerate}[(i)]
        \item For any $C_0 \in \real$ there exists a closed smooth $1$-form 
            $\theta \in \mathfrak{Z}^1(\Omega)$ with 
            \begin{align*}
                I(\theta)(\gamma) = \int_\gamma \theta = C_0
            \end{align*}
        \item any other $\eta \in \mathfrak{Z}^1(\Omega)$ with 
            \begin{align*}
                I(\eta)(\gamma) = \int_\gamma \eta = C_0
            \end{align*}
            is in the same cohomology class of $H_{dR}^1(\Omega)$ 
            i.e. $[\eta] = [\theta]$.
    \end{enumerate}
\end{corollary}
\begin{proof}
    \textbf{Proof of (i)}
    Recall from Sec.\,\ref{sec:de_rhams_theorem} 
    that the integration of differential forms 
    over chains induces an isomorphism on cohomology 
    $[I]: H_{dR}^1(\Omega) \rightarrow H^1(\Omega)$ which we call 
    de Rham isomorphism. We know from 
    Prop.\,\ref{prop:uniqueness_cochain} that there exists $F\in H^1(\Omega)$ 
    s.t. $F(\gamma) = C_0$. The surjectivity of the de Rham isomorphism 
    now gives us $[\theta] \in H^1(\Omega)$ s.t.
    \begin{align*}
        [I(\theta)] = [I](\theta) = [F]
    \end{align*}
    i.e.
    \begin{align*}
        I(\theta) = F + \partial^0 J
    \end{align*}
    with $J \in C^0$. Then, 
    \begin{align*}
        I(\theta)(\gamma) = F(\gamma) + \partial^0 J(\gamma) 
        = C_0 + J(\partial_1 \gamma) 
        \stackrel{\text{$\gamma$ closed}}{=} C_0. 
    \end{align*}
    \textbf{Proof of (ii)}
    We have $I(\eta)$ is a $1$-cochain with $I(\eta)(\gamma) = C_0$.
    Thus, we can apply Prop.\,\ref{prop:uniqueness_cochain} to get
    \begin{align*}
        [I](\eta)=[I(\eta)] = [I(\theta)]=[I](\theta).
    \end{align*}
    Because $[I]$ is an isomorphism we can conclude $[\eta] = [\theta]$.
\end{proof}

\begin{theorem}[Existence of solution]\label{thm:existence}
    Let $\Omega \subseteq \real^3$ be such that $\real^3 \setminus \Omega$
    is compact. 
    For the topology, we require that $H_1(\Omega) = \integers [\gamma]$ 
    for a $1$-chain 
    $\gamma$. Assume further that there exists an $\epsilon$-neighborhood 
    \begin{align*}
        \Omega_\epsilon \vcentcolon= \{ x \in \real^3 \mid
            d(x,\Omega) < \epsilon \} 
    \end{align*}
    s.t. $H_1(\Omega_\epsilon) = \integers [\gamma]$ as well.
    Then there exists a solution 
    to Problem \ref{prob:magnetostatic_reformulated}.
\end{theorem}
Let us say a view words about the topological assumption 
regarding $\Omega_\epsilon$. This just means that we can slightly increase 
the domain without changing the first homology group. As an example, 
think again of a torus in $\real^3$. Assuming the torus has non-empty interior 
we can slightly reduce the poloidal radius without changing the topology of its 
the exterior domain.
\begin{proof}
    At first we want to find a smooth differential $1$-form 
    $\theta \in \Lambda^1(\Omega)$ with the desired curve integral. 
    In order to do that we will increase the 
    domain slightly.
    We start by referring to Cor.\,\ref{cor:existence_uniqueness_1form} 
    to get a smooth differential form 
    $\tilde{\theta} \in \Lambda^1(\Omega_\epsilon)$ with 
    \begin{align}
        \int_\gamma \tilde{\theta} = C_0. \label{eq:integral_theta_tilde}
    \end{align}
    We now refer back to \ref{} to change back to vector proxies. Let 
    $\tilde{\phi}$ be the vector proxy of $\tilde{\theta}$ 
    i.e. $\tilde{\phi} \in C^\infty(\tilde{\Omega})^3$.
    Because $\tilde{\theta}$ is closed and (\ref{eq:integral_theta_tilde}) holds
    we obtain the corresponding properties 
    of $\tilde{\phi}$ which are 
    \begin{align*}
        \int_\gamma \tilde{\phi} \cdot dl &= C_0 
        \\ \curl \tilde{\phi} &= 0.
    \end{align*}
    We define $\phi$ by restricting $\tilde{\phi}$ to $\Omega$. 
    Let now $K_R$ be the open ball around the origin with radius $R>0$ large
    enough s.t. $\Omega^c \subseteq K_R$ and $\gamma \subseteq K_R$. 
    We now restrict $\theta$ further to
    $\Omega_R \vcentcolon= \Omega \cap K_R$. We denote the restriction with 
    $\phi_R \vcentcolon= \phi|_{\Omega_R}$. 

    We now need to construct a harmonic vector field with zero tangential trace
    s.t. we can extend it by zero. We do this by using the Hodge 
    decomposition for $1$-forms on $\Omega_R$ in the $3$D case \ref{}.
    We project $\phi_R$ onto the harmonic fields to obtain $B_R$ which has zero 
    tangential trace. So there exists a sequence 
    $(\psi_i)_{i \in \naturalnum} \in H^1(\Omega_R)$ s.t.
    \begin{align*}
        B_R = \phi_R - \lim\limits_{i\rightarrow \infty}\nabla \psi_i
    \end{align*}
    We also know that $B_R$ is smooth because 
    it is curl and divergence free from the section about the 
    smoothness of solutions (Sec. \ref{sec:regularity_of_solutions}). 
    We want to check that the curve
    integral did not change. We know from \ref{} that the 
    image of the exterior derivative is closed on bounded domains. 
    Formulated in vector proxies, this
    means that $\nabla H^1(U)$ is closed in $L^2$ if $U$ is a bounded domain. 
    So we get that 
    \begin{align*}
        \lim\limits_{i\rightarrow \infty}\nabla \psi_i = \nabla \psi_R
    \end{align*}
    with $\psi_R \in H^1(\Omega_R)$. Because $B_R$ and $\phi_R$ are smooth
    $\psi_R$ must be smooth as well and so we have   
    \begin{align*}
        \int_\gamma B_R\cdot dl = \int_\gamma \phi_R\cdot dl.
    \end{align*}
    Now extend $B_R$ by zero onto $\real^3 \setminus K_R$.
    Denote this extension as $\overline{B}_R$.
    Because $B_R$ has tangential trace zero and is curl-free its extension 
    $\overline{B}_R \in H(\curl;\Omega)$ and is also curl-free. 
    Here it is important to remember 
    that $\real^3 \setminus K_R \subseteq \Omega$. 
    That means of course that $\overline{B}_R$ 
    might not be smooth on $\partial K_R$ 
    as it might have a jump. 
    Now we can once again use the Hodge 
    decomposition of two forms. This time on the whole domain $\Omega$ to find 
    a harmonic field $B$ and a sequence $(\rho_i)_{i\in \naturalnum}$
    s.t.
    \begin{align*}
        \overline{B_R} = B 
            +\lim\limits_{i\rightarrow \infty}\nabla \rho_i.
    \end{align*}
    Notice that because $B$ is a harmonic vector field 
    and because it is the vector 
    proxy of a harmonic $2$-form it already satisfies 
    the Neumann boundary condition and it is divergence as well as curl free.
    That means $B$ is a solution if the curve integral condition is satisfied.
    In order to see this, note that we have on $K_R$
    \begin{align*}
        B_R = B|_{K_R} +\lim\limits_{i\rightarrow \infty}\nabla \rho_i|_{K_R}.
    \end{align*}
    Because the image of the gradient is closed on bounded domains 
    we have $\rho_R \in H^1(K_R)$ s.t.
    \begin{align*}
        B_R = B|_{K_R} + \nabla \rho_R.
    \end{align*}
    With the same argument as above, $\rho_R$ must be smooth and so
    \begin{align*}
        \int_\gamma B \cdot dl =  \int_\gamma B|_{K_R} \cdot dl 
        =  \int_\gamma B_R \cdot dl = C_0
    \end{align*}
    and thus $B$ is indeed a solution.
\end{proof}

In the proof of uniqueness we will use the following lemma. 
\begin{lemma}\label{lem:gradient_sequence}
    Let $\phi \in L^2_{loc}(\Omega_\epsilon)$ 
    with $\nabla \phi \in L^2(\Omega)^3$. Then 
    there exists a sequence $(\phi_i)_{i \in \naturalnum} \subseteq H^1(\Omega)$
    s.t. $\nabla \phi_i \rightarrow \nabla \phi$ in $L^2(\Omega)^3$.
\end{lemma}
\begin{proof}
    Take $K_R$ the open ball around the origin with $R$ large enough 
    s.t. $(K_R)^c \subseteq \Omega$. 
    Define $\Omega_R \vcentcolon= K_R \cap \Omega$. Then 
    $\overline{\Omega}_R \subseteq K_{R+1}$, where $K_{R+1}$ is the open ball 
    around the origin with radius $R+1$, $\Omega_R$ is a Lipschitz 
    domain and $K_{R+1}$ is pre-compact and
    $\phi|_{\Omega_R} \in W^{1,2}(\Omega_R)$. 
    Note that here we need the fact that $\phi \in L^2_{loc}(\Omega_\epsilon)$
    because then $\Omega_R$ is pre-compact in $\Omega_\epsilon$. 
    Therefore we can find an extension
    $E\phi \in W_0^{1,2}(\Omega_{R+1}) \hookrightarrow W^{1,2}(\mathbb{R}^3)$
    (cf. \cite[Sec.\,1.5.1]{mazya}). So we can now define
    \begin{align*}
    \bar{\phi} \vcentcolon=
    \begin{cases}
        \phi & \mbox{in $\Omega$}\\
        E\phi & \mbox{in $\Omega^c$.}\\
    \end{cases}
    \end{align*}
    Then $\bar{\phi} \in L^2_{loc}(\real^3)$ and 
    $\nabla \bar{\phi} \in L^2(\real^3)^3$. 
    Then there exists a sequence 
    $(\phi_l) _{l \in \naturalnum} \subseteq C^\infty_0(\real^3)$ s.t.
    $\nabla \phi_l \rightarrow \nabla \bar{\phi}$ in $L^2(\real^3)^3$ 
    (cf. \cite[Lemma 1.1]{simader}). By restricting $\phi_l$ to $\Omega$ 
    we obtain the result.
\end{proof}


\begin{theorem}
    Let the same assumptions hold as in Thm.\,\ref{thm:existence}.
    Then the solution of the problem is unique.
\end{theorem}

\begin{proof}
    Let $B$ and $\tilde{B}$ both be solutions and denote with $\omega$ 
    and $\tilde{\omega}$ the corresponding $1$-forms. 
    So we have $I(\omega)(\gamma) = I(\tilde{\omega})(\gamma) = C_0$.
    Then we know from Cor.\,\ref{cor:existence_uniqueness_1form} 
    that $\omega$ and $\tilde{\omega}$ are in the 
    same cohomology in $\mathcal{H}^1$. This is equivalent to saying that 
    there exists a smooth $\mu$ s.t. 
    \begin{align*}
        B - \tilde{B} = \grad \mu.
    \end{align*}
    However, $\mu$ need not be in $L^2$ since $\Omega$ is unbounded.
    But we know that $\grad \mu \in L^2(\Omega)^3$ and 
    $\mu \in L^2_{loc}(\Omega)$. 
    Here we can now apply Lemma \ref{lem:gradient_sequence} and conclude
    \begin{align*}
        B - \tilde{B} \in \overline{\grad H^1(\Omega)}.
    \end{align*}
    Now remembering the Hodge decomposition in the 3D case we know 
    \begin{align*}
        B - \tilde{B} \in \overline{\grad H^1(\Omega)}^\perp
    \end{align*}
    as well and thus $B = \tilde{B}$ which concludes the proof of uniqueness.
\end{proof}


% \begin{proof}
%     Let $\omega, \tilde{\omega}$ both be solutions. 
%     Because  $*\omega$ and
%     $*\tilde{\omega}$ are closed the cochains 
%     $c\mapsto \int_c \rop*\omega$ and 
%     $c\mapsto \int_c \rop*\tilde{\omega}$ are closed.
    
%     Due to $\int_\gamma \rop *\omega = \int_\gamma \rop *\tilde{\omega}$ and the 
%     assumption that $[\gamma]$ spans the homology space we have with 
%     Prop.\,\ref{uniqueness_cochain} 
%     $[I(\rop *\omega)] = [I(\rop *\tilde{\omega})]$
%     and because $[I]$ is an isomorphism 
%     $[\rop *\omega] = [\rop *\tilde{\omega}]$. Hence,
%     \begin{align*}
%     [*\tilde{\omega}] = [\rop *\tilde{\omega}] = 
%     [\rop *\omega] = [*\omega].
%     \end{align*}
%     That is equivalent to the
%     existence of some $0$-form $\phi \in H^0(d)$ s.t.
%     $*\omega = *\tilde{\omega} + d\phi$. We continue by applying the Hodge
%     star operator to both sides and use the definition of the codifferential 
%     $\delta$:
%     \begin{align*}
%         \omega = \tilde{\omega} + *d\phi = \tilde{\omega} + *d**\phi 
%         = \tilde{\omega} + (-1)^{(n-k)(k-1)+1}\delta * \phi.
%     \end{align*}
%     Then because $\omega$ and 
%     $\tilde{\omega}$ are harmonic we have 
%     $\omega, \tilde{\omega} \perp \delta H^{3}(\delta)$ and therefore 
%     \begin{align*}
%     \omega = \tilde{\omega}.    
%     \end{align*}
% \end{proof}
% If we now translate this back to standard vector calculus terms we have found 
% the unique solution of the homogeneous magnetostatic on our domain $\Omega$.

% \section{Application: Homogeneous magnetostatic problem on the 
% exterior domain of a torus}

% As an application of this general boundary value problem we will have a look
% at the following magnetostatic problem. Let $\Omega$ be the exterior domain of
% a triangulated torus i.e. $\real^3 \setminus \Omega$ is a torus with 
% triangulated surface. Let $B$ be the magnetic field. We then have the following
% boundary value problem:
% %%%TBD: Include a picture
% It is natural to identify the magnetic field $B$ with a 2-form $\omega$.
% Then the exterior derivative is $d\omega$ corresponds to the divergence,
% the codifferential $\delta$ corresponds to the curl and the normal component
% being zero is corresponds to $\omega \in \mathring{W}^2_2(\Omega)$.\cite{}. 
% The curve integral is an integration over a one-dimensional manifold and
% corresponds therefore to the integration of a one-form. Therefore the
% condition \ref{curve_integral_contition} is can be expressed with the hodge 
% star operator $*$ as
% \begin{align*}
%     \int_\gamma *\omega = C_0.
% \end{align*}


% Now we want to apply our previous results.
% $\Omega$ fulfills all required assumptions for the domain. Because $\gamma$
% goes around the torus once and the homology space $H^1_c$ is one-dimensional
% {\color{red}(TBD: This has to be referenced or proven)}. Therefore because 
% $\gamma$ is not a boundary $[\gamma]$ spans $H^1_c$. Now all assumptions are
% fulfilled and we can apply our result. We will do so on 1-forms and transfer the
% result to 2-forms using the Hodge star operator.

% \subsection*{Existence}
% Let 
% $\tilde{\omega} \in \mathring{W}^1_2(\Omega) $ be the unique solution of our 
% general problem \ref{} and define $\omega \vcentcolon= *\tilde{\omega}$. Then
% we use $**=(-1)^{k(n-k)}\tilde{\omega} = \tilde{\omega}$ \cite[p.66]{arnold} 
% to get 
% \begin{align*}
%     d\omega = ** d*\tilde{\omega} = * (-1)^{n(k-1)+1} \delta \tilde{\omega}
%     = 0
% \end{align*}
% and
% \begin{align*}
%     \delta \omega = (-1)^{n(k-1)+1} *d*\omega = (-1)^{n(k-1)+1}* d\tilde{omega}
%     = 0.
% \end{align*}



%%% TBD: Nowaczyk's thesis is not a master's thesis
\printbibliography
\end{document}